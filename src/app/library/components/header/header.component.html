<ng-container *ngIf="data$ | async as data">
  <nz-header [ngClass]="{'ant-layout-header': false}" class="">
    <!-- <div class="grid lg:grid-cols-1 md:grid-cols-3 sm:grid-cols-3 gap-6"> -->
    <div class="flex items-center lg:justify-end justify-between px-4">
      <div class="lg:hidden flex items-center">ReadHive</div>
      <div
        class="lg:hidden absolute left-1/2 transform -translate-x-1/2 text-lg font-semibold"
      >
        <ul nz-menu nzMode="horizontal">
          <li nz-menu-item routerLink="/global-feed" [nzMatchRouter]="true">
            <a nz-button nzType="text">
              <span nz-icon nzType="home"></span>
            </a>
          </li>
          <li
            *ngIf="data.currentUser"
            nz-menu-item
            routerLink="/feed"
            [nzMatchRouter]="true"
          >
            <a nz-button nzType="text">
              <span nz-icon nzType="usergroup-add"></span>
            </a>
          </li>
        </ul>
      </div>
      <!-- <div class="lg:hidden justify-self-start">Following</div> -->
      <div class="lg:w-auto flex items-center">
        <ul nz-menu nzMode="horizontal">
          <li
            *ngIf="data.currentUser"
            nz-menu-item
            [routerLink]="['notification', data.currentUser.username]"
            [nzMatchRouter]="true"
          >
            <a nz-button nzType="text" nzPlacement="bottomRight">
              <nz-badge nzSize="small" [nzCount]="data?.notif_count?.count">
                <span class="outline-amber-950" nz-icon nzType="bell"></span>
              </nz-badge>
            </a>
          </li>
          <li
            class="no-hover pointer-events-auto"
            [nzSelected]="false"
            *ngIf="data.currentUser"
            nz-menu-item
            [class.ant-menu-item-selected]="null"
            [ngClass]="{ 'ant-menu-item-selected': false }"
          >
            <span
              class="pull-right no-hover"
              nz-dropdown
              nzTrigger="click"
              [nzDropdownMenu]="menu"
              [nzPlacement]="'bottomRight'"
            >
              <nz-avatar
                nzSize="small"
                [nzSrc]="data.currentUser!.image"
                nzIcon="user"
              ></nz-avatar>
            </span>

            <nz-dropdown-menu #menu="nzDropdownMenu">
              <ul nz-menu>
                <li nz-menu-item routerLink="/settings">
                  <span nz-icon nzType="setting"></span>&nbsp;Edit Profile
                </li>
                <li nz-menu-divider></li>
                <li nz-menu-item (click)="logout()" nzDanger>
                  <span nz-icon nzType="logout"></span>
                  Logout
                </li>
              </ul>
            </nz-dropdown-menu>
          </li>
          <li *ngIf="!data.currentUser" nz-menu-item routerLink="/sp/login">
            Sign in
          </li>
        </ul>
      </div>
    </div>
  </nz-header>
</ng-container>
