<nz-list nzItemLayout="vertical" *ngIf="data$ | async as data">
  <div *ngIf="data.feed">
    @for (article of data.feed.articles; track article) {
    <nz-list-item>
      <nz-list-item-meta>
        <nz-list-item-meta-avatar
          nzSrc="https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"
        ></nz-list-item-meta-avatar>

        <nz-list-item-meta-title *ngIf="data.currentUser; else redirectToLogin">
          <a [routerLink]="['/articles', article.slug]">{{ article.title }}</a>
        </nz-list-item-meta-title>

        <ng-template #redirectToLogin>
          <nz-list-item-meta-title>
            <a routerLink="/sp/login">{{ article.title }}</a
            ><span></span>
          </nz-list-item-meta-title>
        </ng-template>

        <nz-list-item-meta-description>
          {{ article.description }}
          <br />
          <i class="font12">Read more...</i>
        </nz-list-item-meta-description>
      </nz-list-item-meta>
      <ul nz-list-item-actions>
        <nz-list-item-action>
          <span nz-icon nzType="heart" class="mr-8"></span>
          {{ article.favoritesCount }}
        </nz-list-item-action>
      </ul>
      <nz-list-item-extra>
        <nz-tag nzColor="blue">
          <span nz-icon nzType="borderless-table"></span>
          {{ article.tagList }}</nz-tag
        >
      </nz-list-item-extra>
    </nz-list-item>
    }
    <br />
    <app-pagination
      [total]="data.feed.articlesCount"
      [currentPage]="currentPage"
    ></app-pagination>
  </div>
</nz-list>
