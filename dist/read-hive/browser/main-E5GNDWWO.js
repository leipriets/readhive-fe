import{a as Et,b as $t,c as Lt,g as Ct}from"./chunk-LI4KXOA7.js";import{a as z,b as Dr,c as $r,h as Lr,i as G}from"./chunk-5SLVXNXS.js";import{a as it}from"./chunk-7PIJXEN7.js";import{e as gr,f as vr,g as Er,i as et}from"./chunk-SIAMYLMN.js";import{a as tt}from"./chunk-TDFIQESJ.js";import{a as jr}from"./chunk-MKJ5QEWK.js";import{a as vt,b as Ur,c as kr}from"./chunk-6I2VYETW.js";import"./chunk-NU526JQJ.js";import{B as U,C as Or,D as Nr,I as P,J as At,a as u,b as l,c as f,d as dr,e as Cr,f as Ir,g as xr,i as Tr,j as O,k as Fr,l as br,s as gt,v as yt,w as Mr,x as wr}from"./chunk-72JYN6XN.js";import{a as Pr,b as Rr}from"./chunk-6NBUF5ZB.js";import"./chunk-I4UZHOPB.js";import{d as St}from"./chunk-X72DGHHK.js";import{H as hr,P as M,Q as yr,R as Sr,U as Ar,q as tr}from"./chunk-OFIX2PRN.js";import{Aa as Rt,Ba as ht,Ca as rr,Fa as or,Ga as ir,Ha as Dt,Ia as nr,Ja as sr,Ka as Y,La as cr,Na as ar,Oa as D,Pa as pr,Qa as Q,Ra as ur,Sb as I,Ta as lr,Ua as fr,Va as mr,e as N,f as Pt,g as _e,ga as dt,h as Be,i as Ke,n as He,o as J,oa as Qe,pa as qe,q as Ve,r as Je,s as Ge,t as Ze,u as We,v as Xe,va as er,w as Ye}from"./chunk-D5Q3UIVE.js";import{$ as Ce,$a as we,Aa as lt,Ba as ft,D as kt,E as X,G as g,H as ye,J as Se,Jc as Re,L as Ae,Lc as De,Ma as be,O as ve,Sa as mt,Ta as Me,Yc as $e,Zb as je,_ as Ee,ba as Ie,c as Ut,da as h,ea as ut,fd as Le,ga as j,h as fe,ia as xe,j as me,ja as Te,l as de,la as T,n as he,oa as q,p as d,qa as v,qb as jt,qd as ze,ra as n,rb as Oe,t as ge,tb as Ne,u as c,vb as Ue,wa as Fe,wc as Pe,yb as ke}from"./chunk-DZ3RKEIN.js";import{a as $,b as L,e as B}from"./chunk-GAL4ENT6.js";var Co=[Xe,Ye,Ge,Ze,We];function zr(){return ft(dt.forRoot(Co))}function Io(e){let o=e,t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var _r=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Io];var xo="@",To=(()=>{class e{constructor(t,r,i,s,m){this.doc=t,this.delegate=r,this.zone=i,this.animationType=s,this.moduleImpl=m,this._rendererFactoryPromise=null,this.scheduler=n(Ne,{optional:!0}),this.loadingSchedulerFn=n(Fo,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-UCDDDMKK.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new Te(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);let m=new s(this.delegate,this._engine,this.zone);return this.delegate=m,m})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new zt(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(m=>{let S=m.createRenderer(t,r);s.use(S),this.scheduler?.notify(10)}).catch(m=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){Oe()}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),zt=class{constructor(o){this.delegate=o,this.replay=[],this.\u0275type=1}use(o){if(this.delegate=o,this.replay!==null){for(let t of this.replay)t(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,t){this.delegate.appendChild(o,t)}insertBefore(o,t,r,i){this.delegate.insertBefore(o,t,r,i)}removeChild(o,t,r){this.delegate.removeChild(o,t,r)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,r,i){this.delegate.setAttribute(o,t,r,i)}removeAttribute(o,t,r){this.delegate.removeAttribute(o,t,r)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,r,i){this.delegate.setStyle(o,t,r,i)}removeStyle(o,t,r){this.delegate.removeStyle(o,t,r)}setProperty(o,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(o,t,r)),this.delegate.setProperty(o,t,r)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(o,t,r)),this.delegate.listen(o,t,r)}shouldReplay(o){return this.replay!==null&&o.startsWith(xo)}},Fo=new q("");function Br(e="animations"){return ke("NgAsyncAnimations"),lt([{provide:Ue,useFactory:(o,t,r)=>new To(o,t,r,e),deps:[$e,Be,mt]},{provide:we,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ct="PERFORM_ACTION",Mo="REFRESH",Zr="RESET",Wr="ROLLBACK",Xr="COMMIT",Yr="SWEEP",Qr="TOGGLE_ACTION",wo="SET_ACTIONS_ACTIVE",qr="JUMP_TO_STATE",to="JUMP_TO_ACTION",qt="IMPORT_STATE",eo="LOCK_CHANGES",ro="PAUSE_RECORDING",nt=class{constructor(o,t){if(this.action=o,this.timestamp=t,this.type=ct,typeof o.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},_t=class{constructor(){this.type=Mo}},Bt=class{constructor(o){this.timestamp=o,this.type=Zr}},Kt=class{constructor(o){this.timestamp=o,this.type=Wr}},Ht=class{constructor(o){this.timestamp=o,this.type=Xr}},Vt=class{constructor(){this.type=Yr}},Jt=class{constructor(o){this.id=o,this.type=Qr}};var Gt=class{constructor(o){this.index=o,this.type=qr}},Zt=class{constructor(o){this.actionId=o,this.type=to}},Wt=class{constructor(o){this.nextLiftedState=o,this.type=qt}},Xt=class{constructor(o){this.status=o,this.type=eo}},Yt=class{constructor(o){this.status=o,this.type=ro}};var Ft=new q("@ngrx/store-devtools Options"),Kr=new q("@ngrx/store-devtools Initial Config");function oo(){return null}var Oo="NgRx Store DevTools";function No(e){let o={maxAge:!1,monitor:oo,actionSanitizer:void 0,stateSanitizer:void 0,name:Oo,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t=typeof e=="function"?e():e,r=t.logOnly?{pause:!0,export:!0,test:!0}:!1,i=t.features||r||o.features;i.import===!0&&(i.import="custom");let s=Object.assign({},o,{features:i},t);if(s.maxAge&&s.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${s.maxAge}`);return s}function Hr(e,o){return e.filter(t=>o.indexOf(t)<0)}function io(e){let{computedStates:o,currentStateIndex:t}=e;if(t>=o.length){let{state:i}=o[o.length-1];return i}let{state:r}=o[t];return r}function st(e){return new nt(e,+Date.now())}function Uo(e,o){return Object.keys(o).reduce((t,r)=>{let i=Number(r);return t[i]=no(e,o[i],i),t},{})}function no(e,o,t){return L($({},o),{action:e(o.action,t)})}function ko(e,o){return o.map((t,r)=>({state:so(e,t.state,r),error:t.error}))}function so(e,o,t){return e(o,t)}function co(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function jo(e,o,t,r){let i=[],s={},m=[];return e.stagedActionIds.forEach((S,b)=>{let a=e.actionsById[S];a&&(b&&te(e.computedStates[b],a,o,t,r)||(s[S]=a,i.push(S),m.push(e.computedStates[b])))}),L($({},e),{stagedActionIds:i,actionsById:s,computedStates:m})}function te(e,o,t,r,i){let s=t&&!t(e,o.action),m=r&&!o.action.type.match(r.map(b=>Vr(b)).join("|")),S=i&&o.action.type.match(i.map(b=>Vr(b)).join("|"));return s||m||S}function Vr(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ao(e){return{ngZone:e?n(mt):null,connectInZone:e}}var bt=(()=>{class e extends ht{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=be(e)))(i||e)}})()}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),It={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Qt=new q("@ngrx/store-devtools Redux Devtools Extension"),po=(()=>{class e{constructor(t,r,i){this.config=r,this.dispatcher=i,this.zoneConfig=ao(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,r){if(this.devtoolsExtension)if(t.type===ct){if(r.isLocked||r.isPaused)return;let i=io(r);if(co(this.config)&&te(i,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?so(this.config.stateSanitizer,i,r.currentStateIndex):i,m=this.config.actionSanitizer?no(this.config.actionSanitizer,t,r.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(m,s))}else{let i=L($({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?Uo(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?ko(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Ut(t=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(i=>t.next(i)),r.unsubscribe}):de}createActionStreams(){let t=this.createChangesObservable().pipe(Ce()),r=t.pipe(X(a=>a.type===It.START)),i=t.pipe(X(a=>a.type===It.STOP)),s=t.pipe(X(a=>a.type===It.DISPATCH),c(a=>this.unwrapAction(a.payload)),ye(a=>a.type===qt?this.dispatcher.pipe(X(w=>w.type===Dt),ge(1e3),Se(1e3),c(()=>a),g(()=>d(a)),Ae(1)):d(a))),S=t.pipe(X(a=>a.type===It.ACTION),c(a=>this.unwrapAction(a.payload))).pipe(ut(i)),b=s.pipe(ut(i));this.start$=r.pipe(ut(i)),this.actions$=this.start$.pipe(h(()=>S)),this.liftedActions$=this.start$.pipe(h(()=>b))}unwrapAction(t){return typeof t=="string"?(0,eval)(`(${t})`):t}getExtensionConfig(t){let r={name:t.name,features:t.features,serialize:t.serialize,autoPause:t.autoPause??!1,trace:t.trace??!1,traceLimit:t.traceLimit??75};return t.maxAge!==!1&&(r.maxAge=t.maxAge),r}sendToReduxDevtools(t){try{t()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}static{this.\u0275fac=function(r){return new(r||e)(v(Qt),v(Ft),v(bt))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),Tt={type:Rt},Po="@ngrx/store-devtools/recompute",Ro={type:Po};function uo(e,o,t,r,i){if(r)return{state:t,error:"Interrupted by an error up the chain"};let s=t,m;try{s=e(t,o)}catch(S){m=S.toString(),i.handleError(S)}return{state:s,error:m}}function xt(e,o,t,r,i,s,m,S,b){if(o>=e.length&&e.length===s.length)return e;let a=e.slice(0,o),w=s.length-(b?1:0);for(let p=o;p<w;p++){let E=s[p],R=i[E].action,A=a[p-1],y=A?A.state:r,K=A?A.error:void 0,H=m.indexOf(E)>-1?A:uo(t,R,y,K,S);a.push(H)}return b&&a.push(e[e.length-1]),a}function Do(e,o){return{monitorState:o(void 0,{}),nextActionId:1,actionsById:{0:st(Tt)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function $o(e,o,t,r,i={}){return s=>(m,S)=>{let{monitorState:b,actionsById:a,nextActionId:w,stagedActionIds:p,skippedActionIds:E,committedState:R,currentStateIndex:A,computedStates:y,isLocked:K,isPaused:k}=m||o;m||(a=Object.create(a));function H(F){let x=F,W=p.slice(1,x+1);for(let _=0;_<W.length;_++)if(y[_+1].error){x=_,W=p.slice(1,x+1);break}else delete a[W[_]];E=E.filter(_=>W.indexOf(_)===-1),p=[0,...p.slice(x+1)],R=y[x].state,y=y.slice(x),A=A>x?A-x:0}function V(){a={0:st(Tt)},w=1,p=[0],E=[],R=y[A].state,A=0,y=[]}let C=0;switch(S.type){case eo:{K=S.status,C=1/0;break}case ro:{k=S.status,k?(p=[...p,w],a[w]=new nt({type:"@ngrx/devtools/pause"},+Date.now()),w++,C=p.length-1,y=y.concat(y[y.length-1]),A===p.length-2&&A++,C=1/0):V();break}case Zr:{a={0:st(Tt)},w=1,p=[0],E=[],R=e,A=0,y=[];break}case Xr:{V();break}case Wr:{a={0:st(Tt)},w=1,p=[0],E=[],A=0,y=[];break}case Qr:{let{id:F}=S;E.indexOf(F)===-1?E=[F,...E]:E=E.filter(W=>W!==F),C=p.indexOf(F);break}case wo:{let{start:F,end:x,active:W}=S,_=[];for(let Nt=F;Nt<x;Nt++)_.push(Nt);W?E=Hr(E,_):E=[...E,..._],C=p.indexOf(F);break}case qr:{A=S.index,C=1/0;break}case to:{let F=p.indexOf(S.actionId);F!==-1&&(A=F),C=1/0;break}case Yr:{p=Hr(p,E),E=[],A=Math.min(A,p.length-1);break}case ct:{if(K)return m||o;if(k||m&&te(m.computedStates[A],S,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let x=y[y.length-1];y=[...y.slice(0,-1),uo(s,S.action,x.state,x.error,t)],C=1/0;break}i.maxAge&&p.length===i.maxAge&&H(1),A===p.length-1&&A++;let F=w++;a[F]=S,p=[...p,F],C=p.length-1;break}case qt:{({monitorState:b,actionsById:a,nextActionId:w,stagedActionIds:p,skippedActionIds:E,committedState:R,currentStateIndex:A,computedStates:y,isLocked:K,isPaused:k}=S.nextLiftedState);break}case Rt:{C=0,i.maxAge&&p.length>i.maxAge&&(y=xt(y,C,s,R,a,p,E,t,k),H(p.length-i.maxAge),C=1/0);break}case Dt:{if(y.filter(x=>x.error).length>0)C=0,i.maxAge&&p.length>i.maxAge&&(y=xt(y,C,s,R,a,p,E,t,k),H(p.length-i.maxAge),C=1/0);else{if(!k&&!K){A===p.length-1&&A++;let x=w++;a[x]=new nt(S,+Date.now()),p=[...p,x],C=p.length-1,y=xt(y,C,s,R,a,p,E,t,k)}y=y.map(x=>L($({},x),{state:s(x.state,Ro)})),A=p.length-1,i.maxAge&&p.length>i.maxAge&&H(p.length-i.maxAge),C=1/0}break}default:{C=1/0;break}}return y=xt(y,C,s,R,a,p,E,t,k),b=r(b,S),{monitorState:b,actionsById:a,nextActionId:w,stagedActionIds:p,skippedActionIds:E,committedState:R,currentStateIndex:A,computedStates:y,isLocked:K,isPaused:k}}}var Jr=(()=>{class e{constructor(t,r,i,s,m,S,b,a){let w=Do(b,a.monitor),p=$o(b,w,S,a.monitor,a),E=kt(kt(r.asObservable().pipe(Ie(1)),s.actions$).pipe(c(st)),t,s.liftedActions$).pipe(he(me)),R=i.pipe(c(p)),A=ao(a.connectInZone),y=new fe(1);this.liftedStateSubscription=E.pipe(xe(R),Gr(A),Ee(({state:H},[V,C])=>{let F=C(H,V);return V.type!==ct&&co(a)&&(F=jo(F,a.predicate,a.actionsSafelist,a.actionsBlocklist)),s.notify(V,F),{state:F,action:V}},{state:w,action:null})).subscribe(({state:H,action:V})=>{if(y.next(H),V.type===ct){let C=V.action;m.next(C)}}),this.extensionStartSubscription=s.start$.pipe(Gr(A)).subscribe(()=>{this.refresh()});let K=y.asObservable(),k=K.pipe(c(io));Object.defineProperty(k,"state",{value:er(k,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=K,this.state=k}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new nt(t,+Date.now()))}refresh(){this.dispatch(new _t)}reset(){this.dispatch(new Bt(+Date.now()))}rollback(){this.dispatch(new Kt(+Date.now()))}commit(){this.dispatch(new Ht(+Date.now()))}sweep(){this.dispatch(new Vt)}toggleAction(t){this.dispatch(new Jt(t))}jumpToAction(t){this.dispatch(new Zt(t))}jumpToState(t){this.dispatch(new Gt(t))}importState(t){this.dispatch(new Wt(t))}lockChanges(t){this.dispatch(new Xt(t))}pauseRecording(t){this.dispatch(new Yt(t))}static{this.\u0275fac=function(r){return new(r||e)(v(bt),v(ht),v(or),v(po),v(nr),v(Me),v(rr),v(Ft))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();function Gr({ngZone:e,connectInZone:o}){return t=>o?new Ut(r=>t.subscribe({next:i=>e.run(()=>r.next(i)),error:i=>e.run(()=>r.error(i)),complete:()=>e.run(()=>r.complete())})):t}var Lo=new q("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function zo(e,o){return!!e||o.monitor!==oo}function _o(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function Bo(e){return e.state}function lo(e={}){return lt([po,bt,Jr,{provide:Kr,useValue:e},{provide:Lo,deps:[Qt,Ft],useFactory:zo},{provide:Qt,useFactory:_o},{provide:Ft,deps:[Kr],useFactory:No},{provide:sr,deps:[Jr],useFactory:Bo},{provide:ir,useExisting:bt}])}var fo=[{path:"",pathMatch:"full",redirectTo:"global-feed"},{path:"",loadChildren:()=>import("./chunk-MGNYOGOA.js").then(e=>e.innerPageRoutes)},{path:"sp",loadChildren:()=>import("./chunk-WFZIEWWI.js").then(e=>e.singlePageRoutes)}];var ee={};B(ee,{getFeedEffect:()=>Ko});var mo=(()=>{class e{constructor(t){this.http=t}getFeed(t){let r=I.apiUrl+t;return this.http.get(r)}static{this.\u0275fac=function(r){return new(r||e)(v(N))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ko=u((e=n(l),o=n(mo))=>e.pipe(f(vt.getFeed),h(({url:t})=>o.getFeed(t).pipe(ve(100),c(r=>{let i=r.articles.length===0;return vt.getFeedSuccess({feed:r,isLastPage:i})}),g(()=>d(vt.getFeedFailure()))))),{functional:!0});var re={};B(re,{getCurrentUserEffect:()=>Ho,loginEffect:()=>Go,logoutEffect:()=>Yo,notifUpdateCurrentUser:()=>Xo,redirectAfterLoginEffect:()=>Zo,redirectAfterRegisterEffect:()=>Jo,registerEffect:()=>Vo,updateCurrentUserEffect:()=>Wo});var Ho=u((e=n(l),o=n(it),t=n(et))=>e.pipe(f(M.getCurrentUser),h(()=>t.get("BVaccessToken")?o.getCurrentUser().pipe(c(i=>M.getCurrentUserSuccess({currentUser:i})),g(i=>(i?.status==401&&localStorage.removeItem("BVaccessToken"),d(M.getCurrentUserFailure())))):d(M.getCurrentUserFailure()))),{functional:!0}),Vo=u((e=n(l),o=n(it),t=n(et))=>e.pipe(f(M.register),h(({request:r})=>o.register(r).pipe(c(i=>(t.set("BVaccessToken",i.token),M.registerSuccess({currentUser:i}))),g(i=>d(M.registerFailure({errors:i.error.errors})))))),{functional:!0}),Jo=u((e=n(l),o=n(J))=>e.pipe(f(M.registerSuccess),j(()=>{o.navigateByUrl("/")})),{functional:!0,dispatch:!1}),Go=u((e=n(l),o=n(it),t=n(et))=>e.pipe(f(M.login),h(({request:r})=>o.login(r).pipe(c(i=>(t.set("BVaccessToken",i.token),M.loginSuccess({currentUser:i}))),g(i=>d(M.loginFailure({errors:i.error.error})))))),{functional:!0}),Zo=u((e=n(l),o=n(J))=>e.pipe(f(M.loginSuccess),j(()=>{o.navigateByUrl("/")})),{functional:!0,dispatch:!1}),Wo=u((e=n(l),o=n(it))=>e.pipe(f(M.updateCurrentUser),h(({currentUserRequest:t,filename:r})=>o.updateCurrentUser(t,r).pipe(c(i=>M.updateCurrentUserSuccess({currentUser:i})),g(i=>d(M.updateCurrentUserFailure({errors:i.error.errors})))))),{functional:!0}),Xo=u((e=n(l),o=n(St))=>e.pipe(f(M.updateCurrentUserSuccess),j(()=>o.success("Profile updated successfully."))),{functional:!0,dispatch:!1}),Yo=u((e=n(l),o=n(J),t=n(et),r=n(it))=>e.pipe(f(M.logout),j(()=>{r.logout().subscribe(),t.set("BVaccessToken",""),o.navigateByUrl("/sp/login")})),{functional:!0,dispatch:!1});var oe={};B(oe,{createArticleEffect:()=>qo,deleteArticleEffect:()=>oi,getArticleEffect:()=>Qo,redirectAfterCreateEffect:()=>ti,redirectAfterUpdateEffect:()=>ri,showErrorNotifArticleEffect:()=>ni,showSuccessModalAfterDeleteEffect:()=>ii,updateArticleEffect:()=>ei});var at=(()=>{class e{constructor(t){this.http=t}getArticle(t){let r=`${I.apiUrl}/articles/${t}`;return this.http.get(r).pipe(c(i=>i.article))}createArticle(t){let r=I.apiUrl+"/articles",i=new FormData;return i.append("article[title]",t.article.title),i.append("article[description]",t.article.description),i.append("article[body]",t.article.body),t.article.tagList.forEach((s,m)=>{i.append(`article[tagList][${m}]`,s)}),t.article?.images?.forEach(s=>{i.append("images",s.originFileObj)}),this.http.post(r,i).pipe(c(s=>s.article))}updateArticle(t,r){let i=`${I.apiUrl}/articles/${t}`,s=new FormData;return s.append("article[title]",r.article.title),s.append("article[description]",r.article.description),s.append("article[body]",r.article.body),r.article.tagList.forEach((m,S)=>{s.append(`article[tagList][${S}]`,m)}),r.article?.images?.forEach(m=>{m?.originFileObj?s.append("images",m.originFileObj):s.append("images",JSON.stringify(m))}),this.http.put(i,s).pipe(c(m=>m.article))}deleteArticle(t){let r=`${I.apiUrl}/articles/${t}`;return this.http.delete(r)}commentArticle(t){let r=t.comment.slug,i=`${I.apiUrl}/articles/${r}/comments`;return this.http.post(i,t)}static{this.\u0275fac=function(r){return new(r||e)(v(N))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Qo=u((e=n(l),o=n(at))=>e.pipe(f(O.getArticle),h(({slug:t})=>o.getArticle(t).pipe(c(r=>O.getArticleSuccess({article:r})),g(()=>d(O.getArticleFailure()))))),{functional:!0}),qo=u((e=n(l),o=n(at))=>e.pipe(f(O.createArticle),h(({request:t})=>o.createArticle(t).pipe(c(r=>O.createArticleSuccess({article:r})),g(r=>d(O.createArticleFailure({errors:r.error.errors})))))),{functional:!0}),ti=u((e=n(l),o=n(J))=>e.pipe(f(O.createArticleSuccess),j(({article:t})=>{o.navigate(["/articles",t.slug])})),{functional:!0,dispatch:!1}),ei=u((e=n(l),o=n(at))=>e.pipe(f(O.updateArticle),h(({request:t,slug:r})=>o.updateArticle(r,t).pipe(c(i=>O.updateArticleSuccess({article:i})),g(i=>d(O.updateArticleFailure({errors:i.error.errors})))))),{functional:!0}),ri=u((e=n(l),o=n(J),t=n(Y),r=n(St))=>e.pipe(f(O.updateArticleSuccess),j(({article:i})=>{t.dispatch(Cr.toggleDrawerClose()),r.success("Article updated successfully."),setTimeout(()=>{location.reload()},1e3)})),{functional:!0,dispatch:!1}),oi=u((e=n(l),o=n(at))=>e.pipe(f(O.deleteArticle),h(({slug:t})=>o.deleteArticle(t).pipe(c(()=>O.deleteArticleSuccess()),g(()=>d(O.deleteArticleFailure()))))),{functional:!0}),ii=u((e=n(l),o=n(J),t=n(gt))=>e.pipe(f(O.deleteArticleSuccess),j(()=>{let r=t.success({nzTitle:"Article was successfully deleted!"});setTimeout(()=>{r.destroy(),o.navigateByUrl("/")},2e3)})),{functional:!0,dispatch:!1}),ni=u((e=n(l),o=n(Lr))=>e.pipe(f(O.createArticleFailure),j(({errors:t})=>{let r=Object.keys(t)[1],i=t[r].toString();if(t&&typeof t=="object"){let m=Object.keys(t)[1];o.error("Error Article",i,{nzDuration:3e3,nzPlacement:"topLeft"})}else console.warn("No errors object found")})),{functional:!0,dispatch:!1});var ie={};B(ie,{getPopularTagsEffect:()=>si});var ho=(()=>{class e{constructor(t){this.http=t}getPopularTags(){let t=I.apiUrl+"/tags";return this.http.get(t).pipe(c(r=>r.data))}static{this.\u0275fac=function(r){return new(r||e)(v(N))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var si=u((e=n(l),o=n(ho))=>e.pipe(f(yt.getPopularTags),h(()=>o.getPopularTags().pipe(c(t=>yt.getPopularTagsSuccess({popularTags:t})),g(()=>d(yt.getPopularTagsFailure()))))),{functional:!0});var ne={};B(ne,{addToFavoritesEffect:()=>ci});var Mt=(()=>{class e{constructor(t){this.http=t}addToFavorites(t){let r=this.getUrl(t);return this.http.post(r,{}).pipe(c(this.getArticle))}removeFromFavorites(t){let r=this.getUrl(t);return this.http.delete(r).pipe(c(this.getArticle))}getUrl(t){return`${I.apiUrl}/articles/${t}/favorite`}getArticle(t){return t.article}static{this.\u0275fac=function(r){return new(r||e)(v(N))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();var ci=u((e=n(l),o=n(Mt))=>e.pipe(f(At.addToFavorites),h(({isFavorited:t,slug:r})=>(t?o.removeFromFavorites(r):o.addToFavorites(r)).pipe(c(s=>At.addToFavoritesSuccess({article:s})),g(()=>d(At.addToFavoritesFailure()))))),{functional:!0});var se={};B(se,{getUserProfileEffect:()=>ai});var wt=(()=>{class e{constructor(t){this.http=t}getUserProfile(t){let r=`${I.apiUrl}/profiles/${t}`;return this.http.get(r).pipe(c(i=>i.profile))}static{this.\u0275fac=function(r){return new(r||e)(v(N))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();var ai=u((e=n(l),o=n(wt))=>e.pipe(f(Et.getUserProfile),h(({username:t})=>o.getUserProfile(t).pipe(c(r=>Et.getUserProfileSuccess({userProfile:r})),g(()=>d(Et.getUserProfileFailure()))))),{functional:!0});var ce={};B(ce,{followUserEffect:()=>pi});var Ot=(()=>{class e{constructor(t){this.http=t}followUser(t){let r=this.getUrl(t);return this.http.post(r,[]).pipe(c(i=>i.profile))}unFollowUser(t){let r=this.getUrl(t);return this.http.delete(r).pipe(c(i=>i.profile))}getUrl(t){return`${I.apiUrl}/profiles/${t}/follow`}static{this.\u0275fac=function(r){return new(r||e)(v(N))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var pi=u((e=n(l),o=n(Ot))=>e.pipe(f(Ct.followUser),h(({isFollowing:t,username:r})=>(t?o.unFollowUser(r):o.followUser(r)).pipe(c(s=>Ct.followUserSuccess({profile:s})),g(()=>d(Ct.followUserFailure()))))),{functional:!0});var ae={};B(ae,{commentEffect:()=>li,deleteCommentEffect:()=>mi,getCommentsEffect:()=>ui,reloadAfterCommentEffect:()=>di,updateCommentEffect:()=>fi});var ot=(()=>{class e{constructor(t){this.http=t}commentArticle(t){let r=t.comment.slug,i=`${I.apiUrl}/articles/${r}/comment`;return this.http.post(i,t)}getComments(t,r){let i=`${I.apiUrl}/articles/${r}/comments`,s={articleId:t};return this.http.get(i,{params:s})}updateComment(t){let r=t.comment.slug,i=`${I.apiUrl}/articles/${r}/comment`;return this.http.patch(i,t)}deleteComment(t,r){let i=`${I.apiUrl}/articles/${r}/comment/${t}`;return this.http.delete(i)}getUrl(t){return`${I.apiUrl}/articles/${t}`}static{this.\u0275fac=function(r){return new(r||e)(v(N))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();var ui=u((e=n(l),o=n(ot))=>e.pipe(f(U.getComment),h(({articleId:t,slug:r})=>o.getComments(t,r).pipe(c(i=>U.getCommentSuccess({data:i})),g(()=>d(U.getCommentFailure()))))),{functional:!0}),li=u((e=n(l),o=n(ot))=>e.pipe(f(U.commentArticle),h(({request:t})=>o.commentArticle(t).pipe(c(r=>U.commentArticleSuccess({comment:r})),g(r=>d(U.commentArticleFailure({errors:r.error.errors})))))),{functional:!0}),fi=u((e=n(l),o=n(ot))=>e.pipe(f(U.updateCommentArticle),h(({request:t})=>o.updateComment(t).pipe(c(r=>U.updateCommentArticleSuccess({comment:r})),g(r=>d(U.commentArticleFailure({errors:r.error.errors})))))),{functional:!0}),mi=u((e=n(l),o=n(ot))=>e.pipe(f(U.deleteComment),h(({commentId:t,slug:r})=>o.deleteComment(t,r).pipe(c(i=>U.deleteCommentSuccess({comment:i})),g(i=>d(U.deleteCommentFailure()))))),{functional:!0}),di=u((e=n(l),o=n(Y))=>e.pipe(f(U.commentArticleSuccess,U.deleteCommentSuccess),j(({comment:t})=>{o.dispatch(U.getComment({articleId:t.article_id,slug:t.slug}))})),{functional:!0,dispatch:!1});var pe={};B(pe,{dislikeCommentEffect:()=>gi,likeCommentEffect:()=>hi});var pt=(()=>{class e{constructor(t){this.http=t}likeComment(t){let{slug:r}=t,i=this.getUrl(r)+"/like-comment";return this.http.post(i,t).pipe(c(this.getLikeResponse))}dislikeComment(t){let{slug:r}=t,i=this.getUrl(r)+"/dislike-comment";return this.http.post(i,t).pipe(c(this.getLikeResponse))}getUrl(t){return`${I.apiUrl}/articles/${t}`}getLikeResponse(t){return t}static{this.\u0275fac=function(r){return new(r||e)(v(N))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();var hi=u((e=n(l),o=n(pt))=>e.pipe(f(P.likeComment),h(({request:t})=>o.likeComment(t).pipe(c(i=>P.likeCommentSuccess({data:i})),g(()=>d(P.likeCommentFailure()))))),{functional:!0}),gi=u((e=n(l),o=n(pt))=>e.pipe(f(P.dislikeComment),h(({request:t})=>o.dislikeComment(t).pipe(c(i=>P.dislikeCommentSuccess({data:i})),g(()=>d(P.dislikeCommentFailure()))))),{functional:!0});var ue={};B(ue,{clearNotificationsEffect:()=>Si,getNotificationCountEffect:()=>yi});var yi=u((e=n(l),o=n(G))=>e.pipe(f(tt.getNotificationCount),h(()=>o.getNotificationBadge().pipe(c(t=>tt.getNotificationCountSuccess({data:t})),g(()=>d(tt.getNotificationCountFailure()))))),{functional:!0}),Si=u((e=n(l),o=n(J),t=n(Y))=>e.pipe(f(z.clearNotifications),j(()=>{t.dispatch(tt.resetNotificationCount())})),{functional:!0,dispatch:!1});var le={};B(le,{clearUserNotifications:()=>Ei,getUserNotificationsEffect:()=>Ai,getUserNotificationsLoadMoreEffect:()=>vi});var Ai=u((e=n(l),o=n(G))=>e.pipe(f(z.getNotifications),h(({limit:t,offset:r})=>o.getUserNotifications(t,r).pipe(c(i=>z.getNotificationsSuccess({data:i})),g(()=>d(z.getNotificationsFailure()))))),{functional:!0}),vi=u((e=n(l),o=n(G))=>e.pipe(f(z.getNotificationsLoadMore),h(({limit:t,offset:r})=>o.getUserNotifications(t,r).pipe(c(i=>z.getNotificationsLoadMoreSuccess({data:i})),g(()=>d(z.getNotificationsLoadMoreFailure()))))),{functional:!0}),Ei=u((e=n(l),o=n(G))=>e.pipe(f(z.clearNotifications),h(()=>o.clearUserNotifications().pipe(c(t=>z.clearNotificationsSuccess({data:t?.data,message:t?.message})),g(()=>d(z.clearNotificationsFailure()))))),{functional:!0});var go=(e,o)=>{let r=n(et).get("BVaccessToken");return e=e.clone({setHeaders:{Authorization:r?`Bearer ${r}`:""}}),o(e)};var yo={isLoading:!1,error:null,data:[]},Ci=ar({name:"react comment",reducer:ur(yo,Q(P.likeComment,e=>L($({},e),{isLoading:!0})),Q(P.likeCommentSuccess,(e,o)=>L($({},e),{isLoading:!1,data:o})),Q(P.likeCommentFailure,e=>L($({},e),{isLoading:!1})),Q(P.dislikeComment,e=>L($({},e),{isLoading:!0})),Q(P.dislikeCommentSuccess,(e,o)=>L($({},e),{isLoading:!1,data:o})),Q(P.dislikeCommentFailure,e=>L($({},e),{isLoading:!1})),Q(lr,()=>yo))}),{name:So,reducer:Ao,selectIsLoading:Ps,selectError:Rs,selectData:Ds}=Ci;Le(_r);var vo={providers:[Pt(_e([go])),Re({eventCoalescing:!0}),Ve(fo,Je({onSameUrlNavigation:"ignore"})),pr({router:fr}),mr(),D(yr,Sr),D(Ur,kr),D(Fr,br),D(Ir,xr),D(Mr,wr),D(Pr,Rr),D($t,Lt),D($t,Lt),D(Or,Nr),D(So,Ao),D(vr,Er),D(Dr,$r),dr(re,ee,oe,ie,ne,se,ce,ae,pe,ue,le),zr(),qe(Qe),ft(tr),Br(),Pt(),lo({maxAge:25,logOnly:!De(),autoPause:!0,trace:!1,traceLimit:75}),Tr,Mt,wt,Ot,gt,ot,pt,G,jr]};var Eo=(()=>{class e{constructor(t,r){this.store=t,this.notificationService=r,this.isCollapsed=!1}ngOnInit(){this.store.dispatch(M.getCurrentUser()),this.store.dispatch(tt.getNotificationCount()),this.currentUserSubscription=this.store.pipe(cr(Ar),X(Boolean)).subscribe(t=>{let r=t.id;this.notificationService.registerUser(r),this.notificationService.listenForNotifications()})}ngOnDestroy(){this.currentUserSubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)(jt(Y),jt(G))}}static{this.\u0275cmp=Fe({type:e,selectors:[["app-root"]],standalone:!0,features:[Pe],decls:1,vars:0,template:function(r,i){r&1&&je(0,"router-outlet")},dependencies:[ze,He,dt,gr,hr]})}}return e})();Ke(Eo,vo).catch(e=>console.error(e));
