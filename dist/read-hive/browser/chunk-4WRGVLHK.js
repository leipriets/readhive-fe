import{b as Y}from"./chunk-SPFBJREM.js";import{b as O,e as $,h as ae}from"./chunk-TVVEEASD.js";import{e as ie}from"./chunk-XR7P7CG6.js";import{d as ne}from"./chunk-KBK4WJI4.js";import{a as Q,b as W}from"./chunk-GQAHBFE6.js";import{c as X}from"./chunk-VXXMYUI5.js";import{a as Z,b as ee}from"./chunk-PENA6MT2.js";import{a as q,c as J,d as K,m as te}from"./chunk-OWTQ6K3K.js";import{c as G}from"./chunk-VPV7UKSS.js";import{E as P,F as V,G as j,H as B,P as oe,U as re,q as F}from"./chunk-GN2DYACI.js";import{Ka as U,fa as H,ga as A,o as T,p as L}from"./chunk-KYAOKWVV.js";import{$b as C,Ac as I,Bc as w,Gb as d,Ia as z,Ja as h,Kb as n,Ra as _,Xb as o,Yb as r,Zb as l,_b as v,bc as M,dc as y,fc as u,hd as R,jd as D,md as k,nc as x,oc as m,pb as i,qb as c,qd as E,v as f,wa as g,wc as N,xc as b,yc as S}from"./chunk-DZ3RKEIN.js";var le=()=>({"ant-layout-header":!1}),me=t=>["notification",t];function pe(t,p){if(t&1&&(o(0,"li",15)(1,"a",16)(2,"nz-badge",17),l(3,"span",18),r()()()),t&2){let e=u().ngIf;n("nzMatchRouter",!0),i(),n("routerLink",S(3,me,e.currentUser.username)),i(),n("nzCount",e==null||e.notif_count==null?null:e.notif_count.count)}}function ue(t,p){if(t&1){let e=M();o(0,"li",15)(1,"span",19),l(2,"nz-avatar",20),r(),o(3,"nz-dropdown-menu",null,0)(5,"ul",21)(6,"li",22),l(7,"span",23),m(8,"\xA0Edit Profile "),r(),l(9,"li",24),o(10,"li",25),y("click",function(){z(e);let s=u(2);return h(s.logout())}),l(11,"span",26),m(12," Logout "),r()()()()}if(t&2){let e=x(4),a=u().ngIf;n("nzMatchRouter",!0),i(),n("nzDropdownMenu",e)("nzPlacement","bottomRight"),i(),n("nzSrc",a.currentUser.image)}}function se(t,p){t&1&&(o(0,"li",27),m(1," Sign in "),r())}function ce(t,p){if(t&1&&(v(0),o(1,"ul",5),d(2,pe,4,5,"li",13)(3,ue,13,4,"li",13)(4,se,2,0,"li",14),r(),C()),t&2){let e=p.ngIf;i(2),n("ngIf",e.currentUser),i(),n("ngIf",e.currentUser),i(),n("ngIf",!e.currentUser)}}var qe=(()=>{class t{constructor(e,a){this.store=e,this.router=a,this.toggle=new _,this.isCollapsed=!0,this.currentRoute="",this.isSelected=!1,this.isSelectedNotif=!1,this.notifCount=0,this.data$=f({currentUser:this.store.select(re),notif_count:this.store.select(ae)})}ngOnInit(){this.currentRoute=this.router.url}ngAfterViewInit(){let e=this.currentRoute.split("/")[1];(this.currentRoute=="/global-feed?tab=globalFeed"||this.currentRoute=="/feed?tab=feed")&&(this.isSelected=!0),e=="notification"&&(this.isSelectedNotif=!0)}logout(){this.store.dispatch(oe.logout())}toggleCollapse(){this.isCollapsed=!this.isCollapsed,this.toggle.emit(this.isCollapsed)}ngOnDestroy(){}static{this.\u0275fac=function(a){return new(a||t)(c(U),c(T))}}static{this.\u0275cmp=g({type:t,selectors:[["app-header"]],outputs:{toggle:"toggle"},standalone:!0,features:[N],decls:15,vars:7,consts:[["menu","nzDropdownMenu"],[1,"",3,"ngClass"],[1,"flex","items-center","lg:justify-end","justify-between","px-4","py-2","bg-white","shadow"],[1,"lg:hidden","flex","items-center"],[1,"lg:hidden","absolute","left-1/2","transform","-translate-x-1/2","text-lg","font-semibold"],["nz-menu","","nzMode","horizontal"],["nz-menu-item","","routerLink","/global-feed",3,"nzMatchRouter"],["nz-button","","nzType","text"],["nz-icon","","nzType","home"],["nz-menu-item","","routerLink","/feed",3,"nzMatchRouter"],["nz-icon","","nzType","usergroup-add"],[1,"lg:w-auto","flex","items-center"],[4,"ngIf"],["nz-menu-item","",3,"nzMatchRouter",4,"ngIf"],["nz-menu-item","","routerLink","/sp/login",4,"ngIf"],["nz-menu-item","",3,"nzMatchRouter"],["nz-button","","nzType","text","nzPlacement","bottomRight",3,"routerLink"],["nzSize","small",3,"nzCount"],["nz-icon","","nzType","bell",1,"outline-amber-950"],["nz-dropdown","","nzTrigger","click",1,"pull-right","no-hover",3,"nzDropdownMenu","nzPlacement"],["nzSize","small","nzIcon","user",3,"nzSrc"],["nz-menu",""],["nz-menu-item","","routerLink","/settings"],["nz-icon","","nzType","setting"],["nz-menu-divider",""],["nz-menu-item","","nzDanger","",3,"click"],["nz-icon","","nzType","logout"],["nz-menu-item","","routerLink","/sp/login"]],template:function(a,s){a&1&&(o(0,"nz-header",1)(1,"div",2)(2,"div",3),m(3,"ReadHive"),r(),o(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),l(8,"span",8),r()(),o(9,"li",9)(10,"a",7),l(11,"span",10),r()()()(),o(12,"div",11),d(13,ce,5,3,"ng-container",12),I(14,"async"),r()()()),a&2&&(n("ngClass",b(6,le)),i(6),n("nzMatchRouter",!0),i(3),n("nzMatchRouter",!0),i(4),n("ngIf",w(14,4,s.data$)))},dependencies:[E,R,D,k,F,B,V,P,j,K,q,J,L,$,O,A,H,G,W,Q,X,Y,ee,Z,te,ne,ie],styles:[`nz-header{background:#fff!important;padding:0}.trigger{font-size:18px;line-height:64px;padding:0 24px;cursor:pointer;transition:color .3s}.mt{margin-top:15px!important}.trigger:hover{color:#1890ff}.pull-right{float:right}.header-menu{line-height:64px}.padding10{padding:10px}:host ::ng-deep .no-hover:hover{background-color:transparent!important;color:inherit!important}.no-hover.ant-menu-dark.ant-menu-horizontal>.ant-menu-item:hover{background-color:transparent!important}:host ::ng-deep .no-hover.ant-menu-item-selected,.no-hover.ant-menu-item-active{background-color:transparent!important}
`],encapsulation:2})}}return t})();export{qe as a};
