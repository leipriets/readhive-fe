import{b as Z}from"./chunk-VORGD66G.js";import{b as $,e as G,h as le}from"./chunk-IQBM7JAF.js";import{e as oe}from"./chunk-ETGDVCL6.js";import{d as ie}from"./chunk-WQ75BQ3C.js";import{a as W,b as X}from"./chunk-ABHDLS6S.js";import{c as Y}from"./chunk-2ZQ6Y2I4.js";import{a as ee,b as te}from"./chunk-RUYDGNTY.js";import{a as J,c as K,d as Q,m as ne}from"./chunk-NNJUV6AO.js";import{c as q}from"./chunk-T53K6S7Z.js";import{E as V,F as j,G as B,H as O,P as re,U as ae,q as U}from"./chunk-X5J5AAS6.js";import{Ka as P,fa as A,ga as F,o as L,p as H}from"./chunk-W7R43Y2J.js";import{$b as x,Ac as k,Bc as R,Gb as s,Ia as h,Ja as _,Kb as n,Mb as C,Ra as v,Xb as r,Yb as i,Zb as l,_b as M,bc as y,dc as N,fc as p,hd as D,jd as w,md as T,nc as S,oc as u,pb as o,qb as d,qd as E,v as g,wa as z,wc as I,xc as f,yc as b}from"./chunk-SSCO7BOT.js";var me=()=>({"ant-layout-header":!1}),ue=e=>["notification",e],se=()=>({"ant-menu-item-selected":!1});function pe(e,m){e&1&&(r(0,"li",15)(1,"a",8),l(2,"span",16),i()()),e&2&&n("nzMatchRouter",!0)}function ce(e,m){if(e&1&&(r(0,"li",17)(1,"a",18)(2,"nz-badge",19),l(3,"span",20),i()()()),e&2){let t=p().ngIf;n("routerLink",b(3,ue,t.currentUser.username))("nzMatchRouter",!0),o(2),n("nzCount",t==null||t.notif_count==null?null:t.notif_count.count)}}function de(e,m){if(e&1){let t=y();r(0,"li",21)(1,"span",22),l(2,"nz-avatar",23),i(),r(3,"nz-dropdown-menu",null,0)(5,"ul",24)(6,"li",25),l(7,"span",26),u(8,"\xA0Edit Profile "),i(),l(9,"li",27),r(10,"li",28),N("click",function(){h(t);let c=p(2);return _(c.logout())}),l(11,"span",29),u(12," Logout "),i()()()()}if(e&2){let t=S(4),a=p().ngIf;C("ant-menu-item-selected",null),n("nzSelected",!1)("ngClass",f(7,se)),o(),n("nzDropdownMenu",t)("nzPlacement","bottomRight"),o(),n("nzSrc",a.currentUser.image)}}function fe(e,m){e&1&&(r(0,"li",30),u(1," Sign in "),i())}function ge(e,m){if(e&1&&(M(0),r(1,"nz-header",2)(2,"div",3)(3,"div",4),u(4,"ReadHive"),i(),r(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),l(9,"span",9),i()(),s(10,pe,3,1,"li",10),i()(),r(11,"div",11)(12,"ul",6),s(13,ce,4,5,"li",12)(14,de,13,8,"li",13)(15,fe,2,0,"li",14),i()()()(),x()),e&2){let t=m.ngIf;o(),n("ngClass",f(6,me)),o(6),n("nzMatchRouter",!0),o(3),n("ngIf",t.currentUser),o(3),n("ngIf",t.currentUser),o(),n("ngIf",t.currentUser),o(),n("ngIf",!t.currentUser)}}var Qe=(()=>{class e{constructor(t,a){this.store=t,this.router=a,this.toggle=new v,this.isCollapsed=!0,this.currentRoute="",this.isSelected=!1,this.isSelectedNotif=!1,this.notifCount=0,this.data$=g({currentUser:this.store.select(ae),notif_count:this.store.select(le)})}ngOnInit(){this.currentRoute=this.router.url}ngAfterViewInit(){let t=this.currentRoute.split("/")[1];(this.currentRoute=="/global-feed?tab=globalFeed"||this.currentRoute=="/feed?tab=feed")&&(this.isSelected=!0),t=="notification"&&(this.isSelectedNotif=!0)}logout(){this.store.dispatch(re.logout())}toggleCollapse(){this.isCollapsed=!this.isCollapsed,this.toggle.emit(this.isCollapsed)}ngOnDestroy(){}static{this.\u0275fac=function(a){return new(a||e)(d(P),d(L))}}static{this.\u0275cmp=z({type:e,selectors:[["app-header"]],outputs:{toggle:"toggle"},standalone:!0,features:[I],decls:2,vars:3,consts:[["menu","nzDropdownMenu"],[4,"ngIf"],[1,"",3,"ngClass"],[1,"flex","items-center","lg:justify-end","justify-between","px-4"],[1,"lg:hidden","flex","items-center"],[1,"lg:hidden","absolute","left-1/2","transform","-translate-x-1/2","text-lg","font-semibold"],["nz-menu","","nzMode","horizontal"],["nz-menu-item","","routerLink","/global-feed",3,"nzMatchRouter"],["nz-button","","nzType","text"],["nz-icon","","nzType","home"],["nz-menu-item","","routerLink","/feed",3,"nzMatchRouter",4,"ngIf"],[1,"lg:w-auto","flex","items-center"],["nz-menu-item","",3,"routerLink","nzMatchRouter",4,"ngIf"],["class","no-hover pointer-events-auto","nz-menu-item","",3,"nzSelected","ant-menu-item-selected","ngClass",4,"ngIf"],["nz-menu-item","","routerLink","/sp/login",4,"ngIf"],["nz-menu-item","","routerLink","/feed",3,"nzMatchRouter"],["nz-icon","","nzType","usergroup-add"],["nz-menu-item","",3,"routerLink","nzMatchRouter"],["nz-button","","nzType","text","nzPlacement","bottomRight"],["nzSize","small",3,"nzCount"],["nz-icon","","nzType","bell",1,"outline-amber-950"],["nz-menu-item","",1,"no-hover","pointer-events-auto",3,"nzSelected","ngClass"],["nz-dropdown","","nzTrigger","click",1,"pull-right","no-hover",3,"nzDropdownMenu","nzPlacement"],["nzSize","small","nzIcon","user",3,"nzSrc"],["nz-menu",""],["nz-menu-item","","routerLink","/settings"],["nz-icon","","nzType","setting"],["nz-menu-divider",""],["nz-menu-item","","nzDanger","",3,"click"],["nz-icon","","nzType","logout"],["nz-menu-item","","routerLink","/sp/login"]],template:function(a,c){a&1&&(s(0,ge,16,7,"ng-container",1),k(1,"async")),a&2&&n("ngIf",R(1,1,c.data$))},dependencies:[E,D,w,T,U,O,j,V,B,Q,J,K,H,G,$,F,A,q,X,W,Y,Z,te,ee,ne,ie,oe],styles:[`nz-header{background:#fff!important;padding:0}.trigger{font-size:18px;line-height:64px;padding:0 24px;cursor:pointer;transition:color .3s}.mt{margin-top:15px!important}.trigger:hover{color:#1890ff}.pull-right{float:right}.header-menu{line-height:64px}.padding10{padding:10px}:host ::ng-deep .no-hover:hover{background-color:transparent!important;color:inherit!important}:host ::ng-deep .no-hover.ant-menu-item-selected{background-color:transparent!important;color:inherit!important}.no-hover.ant-menu-dark.ant-menu-horizontal>.ant-menu-item:hover{background-color:transparent!important}:host ::ng-deep .no-hover.ant-menu-item-selected,.no-hover.ant-menu-item-active{background-color:transparent!important}
`],encapsulation:2})}}return e})();export{Qe as a};
