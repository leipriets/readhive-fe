import{a as se,b as ce,c as me,d as le}from"./chunk-6SFYCEM4.js";import{a as ye}from"./chunk-UONVV3RW.js";import{k as he,l as Ce}from"./chunk-454OBMDO.js";import{b as ie,c as oe}from"./chunk-VXXMYUI5.js";import{h as Se,i as ze}from"./chunk-PENA6MT2.js";import{a as fe,d as de,e as ge,f as _e}from"./chunk-KDUSOC5H.js";import{j as re,k as ne,l as ae,n as pe}from"./chunk-7XFJB67Q.js";import{c as te}from"./chunk-VPV7UKSS.js";import{U as ue,d as Q,h as X,k as Y,q as Z}from"./chunk-GN2DYACI.js";import{Ka as ee,fa as J,ga as K,o as I,p as H}from"./chunk-KYAOKWVV.js";import{$b as F,Ac as R,Bc as U,Dc as W,G as A,Gb as d,Ia as u,J as D,Ja as f,Kb as a,Tb as h,Vb as C,Wb as S,Xb as n,Yb as p,Zb as z,_b as O,bc as x,da as E,dc as w,f as V,fc as j,jd as G,md as $,nc as N,oc as y,p as M,pb as r,pc as T,qb as c,qd as P,sc as L,tc as q,uc as B,v as k,wa as _,wc as v,yc as b}from"./chunk-DZ3RKEIN.js";function Ie(e,s){if(e&1){let t=x();n(0,"nz-auto-option",5),w("click",function(){u(t);let o=j();return f(o.onSelect())}),y(1),p()}if(e&2){let t=s.$implicit;a("nzValue",t.username),r(),T(t.username)}}function Me(e,s){e&1&&z(0,"span",6)}var Te=(()=>{class e{constructor(t,i){this.searchService=t,this.router=i,this.searchSubject=new V,this.options=[],this.searchSubscription=this.searchSubject.pipe(D(300),E(o=>o.trim()?this.searchService.getUserProfile(o).pipe(A(()=>M([]))):M([]))).subscribe(o=>{this.options=o})}ngOnInit(){}onInput(t){let i=t.target.value;this.searchSubject.next(i)}onSelect(){this.inputValue&&this.router.navigate([`/profile/${this.inputValue}`],{queryParams:{tab:"posts"}})}ngOnDestroy(){this.searchSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)(c(ye),c(I))}}static{this.\u0275cmp=_({type:e,selectors:[["app-search-profile"]],standalone:!0,features:[v],decls:8,vars:3,consts:[["auto",""],["suffixIconSearch",""],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search user profile",3,"ngModelChange","input","keydown.enter","ngModel","nzAutocomplete"],[3,"nzValue"],[3,"click","nzValue"],["nz-icon","","nzType","search"]],template:function(i,o){if(i&1){let m=x();n(0,"nz-input-group",2)(1,"input",3),B("ngModelChange",function(l){return u(m),q(o.inputValue,l)||(o.inputValue=l),f(l)}),w("input",function(l){return u(m),f(o.onInput(l))})("keydown.enter",function(){return u(m),f(o.onSelect())}),p()(),n(2,"nz-autocomplete",null,0),C(4,Ie,2,2,"nz-auto-option",4,h),p(),d(6,Me,1,0,"ng-template",null,1,W)}if(i&2){let m=N(3),g=N(7);a("nzSuffix",g),r(),L("ngModel",o.inputValue),a("nzAutocomplete",m),r(3),S(o.options)}},dependencies:[P,Z,Q,X,Y,K,J,pe,re,ae,ne,le,me,se,ce],styles:[".input-search[_ngcontent-%COMP%]{width:250px}"]})}}return e})();var xe=e=>["/tags",e],we=e=>({tab:e});function Ne(e,s){e&1&&(n(0,"div"),z(1,"app-search-profile")(2,"br")(3,"br"),p())}function be(e,s){if(e&1&&(n(0,"nz-tag",4)(1,"a",5),y(2),p()()),e&2){let t=s.$implicit;r(),a("routerLink",b(3,xe,t))("queryParams",b(5,we,t)),r(),T(t)}}function Ve(e,s){if(e&1&&(O(0),n(1,"div",2),d(2,Ne,4,0,"div",1),n(3,"nz-card",3),C(4,be,3,7,"nz-tag",4,h),p()(),F()),e&2){let t=s.ngIf;r(2),a("ngIf",t.currentUser),r(2),S(t.popularTags)}}var at=(()=>{class e{constructor(t,i){this.store=t,this.router=i,this.data$=k({popularTags:this.store.select(_e),isLoading:this.store.select(de),error:this.store.select(ge),currentUser:this.store.select(ue)})}ngOnInit(){this.store.dispatch(fe.getPopularTags())}doSomething(t){this.router.navigate(["/tags",t],{queryParams:{tab:t}})}static{this.\u0275fac=function(i){return new(i||e)(c(ee),c(I))}}static{this.\u0275cmp=_({type:e,selectors:[["app-popular-tags"]],standalone:!0,features:[v],decls:3,vars:4,consts:[[3,"nzOffsetTop"],[4,"ngIf"],[1,"container-popular-tags"],["nzTitle","Popular Tags"],["nzColor","#818a91",1,"mt-5"],[3,"routerLink","queryParams"]],template:function(i,o){i&1&&(n(0,"nz-affix",0),d(1,Ve,6,1,"ng-container",1),R(2,"async"),p()),i&2&&(a("nzOffsetTop",70),r(),a("ngIf",U(2,2,o.data$)))},dependencies:[P,G,$,H,Ce,he,ze,Se,oe,ie,te,Te],styles:[".container-popular-tags[_ngcontent-%COMP%]{padding:2.75rem 0rem 1rem 4rem}.tag-bg-color-default[_ngcontent-%COMP%]{background-color:#818a91}.mt-5[_ngcontent-%COMP%]{margin-top:5px}"]})}}return e})();export{at as a};
