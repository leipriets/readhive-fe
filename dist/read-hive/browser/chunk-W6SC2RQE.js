import{a as X,b as Y}from"./chunk-SPFBJREM.js";import{b as B,e as j,h as re}from"./chunk-TVVEEASD.js";import{d as ne}from"./chunk-6SFYCEM4.js";import{a as K,b as Q}from"./chunk-GQAHBFE6.js";import{c as W}from"./chunk-VXXMYUI5.js";import{a as Z,b as ee}from"./chunk-PENA6MT2.js";import{a as J,b as O,d as $,e as G,n as te}from"./chunk-7XFJB67Q.js";import{c as q}from"./chunk-VPV7UKSS.js";import{E as H,F as P,G as U,H as V,P as ie,U as oe,q as L}from"./chunk-GN2DYACI.js";import{Ka as F,fa as E,ga as A,o as R,p as T}from"./chunk-KYAOKWVV.js";import{$b as z,Ac as D,Bc as b,Gb as u,Ia as _,Ja as v,Kb as n,Xb as r,Yb as a,Zb as l,_b as f,bc as x,dc as y,fc as c,jd as I,md as k,nc as M,oc as m,pb as i,qb as s,qd as w,v as g,wa as h,wc as C,xc as N,yc as S}from"./chunk-DZ3RKEIN.js";var ae=()=>({tab:"globalFeed"}),le=t=>["notification",t];function me(t,p){if(t&1&&(r(0,"li",18)(1,"a",19)(2,"nz-badge",20),l(3,"span",21),a()()()),t&2){let e=c().ngIf;n("nzMatchRouter",!0),i(),n("routerLink",S(3,le,e.currentUser.username)),i(),n("nzCount",e==null||e.notif_count==null?null:e.notif_count.count)}}function pe(t,p){t&1&&(r(0,"li",22),m(1," Sign in "),a())}function ue(t,p){if(t&1&&(f(0),l(1,"nz-avatar",23),z()),t&2){let e=c().ngIf;i(),n("nzSrc",e.currentUser.image)}}function ce(t,p){if(t&1){let e=x();f(0),r(1,"ul",6),u(2,me,4,5,"li",7)(3,pe,2,0,"li",8),a(),r(4,"ul",9)(5,"li",10)(6,"a",11),u(7,ue,2,1,"ng-container",5),a(),r(8,"nz-dropdown-menu",null,0)(10,"ul",12)(11,"li",13),l(12,"span",14),m(13,"\xA0Edit Profile "),a(),l(14,"li",15),r(15,"li",16),y("click",function(){_(e);let d=c();return v(d.logout())}),l(16,"span",17),m(17," Logout "),a()()()()(),z()}if(t&2){let e=p.ngIf,o=M(9);i(2),n("ngIf",e.currentUser),i(),n("ngIf",!e.currentUser),i(),n("nzSelectable",!1),i(2),n("nzDropdownMenu",o)("nzPlacement","bottomRight"),i(),n("ngIf",e.currentUser)}}var Be=(()=>{class t{constructor(e,o){this.store=e,this.router=o,this.currentRoute="",this.isSelected=!1,this.isSelectedNotif=!1,this.notifCount=0,this.data$=g({currentUser:this.store.select(oe),notif_count:this.store.select(re)})}ngOnInit(){this.currentRoute=this.router.url}ngAfterViewInit(){let e=this.currentRoute.split("/")[1];(this.currentRoute=="/global-feed?tab=globalFeed"||this.currentRoute=="/feed?tab=feed")&&(this.isSelected=!0),e=="notification"&&(this.isSelectedNotif=!0)}logout(){this.store.dispatch(ie.logout())}ngOnDestroy(){}static{this.\u0275fac=function(o){return new(o||t)(s(F),s(R))}}static{this.\u0275cmp=h({type:t,selectors:[["app-header"]],standalone:!0,features:[C],decls:8,vars:7,consts:[["menu","nzDropdownMenu"],["nzTheme","dark"],["routerLink","/global-feed",3,"queryParams"],[1,"banner-title"],["nz-flex","",3,"nzJustify","nzAlign"],[4,"ngIf"],["nz-menu","","nzMode","horizontal","nzTheme","dark",1,"header-menu","pull-right"],["nz-menu-item","",3,"nzMatchRouter",4,"ngIf"],["nz-menu-item","","routerLink","/sp/login",4,"ngIf"],["nz-menu","","nzMode","horizontal","nzTheme","dark",1,"header-menu","pull-right",3,"nzSelectable"],["nz-menu-item","",1,"no-hover"],["nz-dropdown","","nzTrigger","click",1,"pull-right",3,"nzDropdownMenu","nzPlacement"],["nz-menu",""],["nz-menu-item","","routerLink","/settings"],["nz-icon","","nzType","setting"],["nz-menu-divider",""],["nz-menu-item","","nzDanger","",3,"click"],["nz-icon","","nzType","logout"],["nz-menu-item","",3,"nzMatchRouter"],["nz-button","","nzType","text","nzPlacement","bottomRight",3,"routerLink"],["nzSize","small",3,"nzCount"],["nz-icon","","nzType","bell"],["nz-menu-item","","routerLink","/sp/login"],["nzSize","small","nzIcon","user",3,"nzSrc"]],template:function(o,d){o&1&&(r(0,"nz-header",1)(1,"div")(2,"a",2)(3,"h3",3),m(4,"ReadHive"),a()()(),r(5,"div",4),u(6,ce,18,6,"ng-container",5),D(7,"async"),a()()),o&2&&(i(2),n("queryParams",N(6,ae)),i(3),n("nzJustify","flex-end")("nzAlign","flex-end"),i(),n("ngIf",b(7,4,d.data$)))},dependencies:[w,I,k,L,V,P,H,U,G,J,O,$,T,j,B,A,E,q,Q,K,W,Y,X,ee,Z,te,ne],styles:[`nz-header{padding:0}.banner-title{float:left;color:#fff;text-align:start}.trigger{font-size:18px;line-height:64px;padding:0 24px;cursor:pointer;transition:color .3s}.mt{margin-top:15px!important}.trigger:hover{color:#1890ff}.pull-right{float:right}.header-menu{line-height:64px}.padding10{padding:10px}:host ::ng-deep li.no-hover:hover{background-color:transparent!important;color:inherit!important}.ant-badge{color:#fff}.logo{width:120px;height:31px;background:#fff3;margin:16px 25px 16px 0;float:left}
`],encapsulation:2})}}return t})();export{Be as a};
