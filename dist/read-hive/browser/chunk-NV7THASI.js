import{a as ni,b as oi,f as hi}from"./chunk-Z4BHWU3Z.js";import{a as Kt}from"./chunk-VXXMYUI5.js";import{a as Xt,b as Jt,h as ci,i as li}from"./chunk-PENA6MT2.js";import{b as At,c as qe,f as ri,h as si,i as re,l as pi,m as di,n as mi,o as ui,p as Ue,q as fi}from"./chunk-CZY3ZFCS.js";import{a as Gt,b as Wt,c as Zt,d as Yt,i as Oe,l as fe,m as Ae,n as ye,o as oe,p as ei,q as ti,t as ii}from"./chunk-OWTQ6K3K.js";import{a as Lt,b as Qt,c as qt}from"./chunk-VPV7UKSS.js";import{e as ai}from"./chunk-JFPKRXYT.js";import{E as Vt,F as Ht,U as Re,d as Nt,f as Me,h as St,i as kt,l as It,n as wt,o as Mt,p as Ft,r as Ot}from"./chunk-GN2DYACI.js";import{$ as U,A as xt,B as Tt,C as Et,Ka as de,Lb as ie,Mb as ne,Nb as me,Ob as Ut,Pb as ue,Rb as he,U as Qe,W as bt,Wa as Rt,Xa as jt,_ as pe,_a as Pt,aa as Dt,eb as Fe,fa as O,fb as X,ga as A,nb as $t,p as _t,pb as Bt,qa as we,x as yt,z as vt}from"./chunk-KYAOKWVV.js";import{$b as I,A as Be,Ac as ge,Bb as dt,Bc as _e,Db as se,Dc as le,Gb as m,Ha as P,Ia as g,Ib as mt,Ja as _,Jb as Le,Kb as d,Lb as q,Mb as $,Mc as R,Oa as lt,Pc as L,Qc as zt,Ra as S,Sa as He,Sb as f,T as st,Tb as ut,Ub as Ee,Va as K,Vb as ae,Wb as ce,Xb as c,Yb as l,Yc as De,Zb as z,_b as k,_c as gt,a as it,ac as ht,bc as N,c as Pe,da as Ve,dc as C,ea as b,f as j,fc as a,g as nt,gc as B,hc as y,jc as ee,jd as Ne,kc as F,l as $e,la as at,lc as x,ld as Se,m as Q,ma as w,mc as T,md as ke,nc as te,oc as h,pb as s,pc as V,qa as ct,qb as p,qc as H,qd as Ie,ra as Ce,sb as xe,u as ot,ub as pt,v as rt,vc as ft,wa as v,wb as Te,wc as E,xa as M,xb as ze,xc as Ct,ya as D,yc as be}from"./chunk-DZ3RKEIN.js";var Ni=[[["nz-breadcrumb","nz-page-header-breadcrumb",""]],[["nz-avatar","nz-page-header-avatar",""]],[["nz-page-header-tags"],["","nz-page-header-tags",""]],[["nz-page-header-extra"],["","nz-page-header-extra",""]],[["nz-page-header-content"],["","nz-page-header-content",""]],[["nz-page-header-footer"],["","nz-page-header-footer",""]],[["nz-page-header-title"],["","nz-page-header-title",""]],[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]]],Si=["nz-breadcrumb[nz-page-header-breadcrumb]","nz-avatar[nz-page-header-avatar]","nz-page-header-tags, [nz-page-header-tags]","nz-page-header-extra, [nz-page-header-extra]","nz-page-header-content, [nz-page-header-content]","nz-page-header-footer, [nz-page-header-footer]","nz-page-header-title, [nz-page-header-title]","nz-page-header-subtitle, [nz-page-header-subtitle]"];function ki(t,r){if(t&1&&(k(0),z(1,"span",8),I()),t&2){let e=r.$implicit,i=a(2);s(),d("nzType",e||i.getBackIcon())}}function Ii(t,r){if(t&1){let e=N();c(0,"div",5),C("click",function(){g(e);let n=a();return _(n.onBack())}),c(1,"div",6),m(2,ki,2,1,"ng-container",7),l()()}if(t&2){let e=a();s(2),d("nzStringTemplateOutlet",e.nzBackIcon)}}function wi(t,r){if(t&1&&(k(0),h(1),I()),t&2){let e=a(2);s(),V(e.nzTitle)}}function Mi(t,r){if(t&1&&(c(0,"span",3),m(1,wi,2,1,"ng-container",7),l()),t&2){let e=a();s(),d("nzStringTemplateOutlet",e.nzTitle)}}function Fi(t,r){t&1&&y(0,6)}function Oi(t,r){if(t&1&&(k(0),h(1),I()),t&2){let e=a(2);s(),V(e.nzSubtitle)}}function Ai(t,r){if(t&1&&(c(0,"span",4),m(1,Oi,2,1,"ng-container",7),l()),t&2){let e=a();s(),d("nzStringTemplateOutlet",e.nzSubtitle)}}function Ri(t,r){t&1&&y(0,7)}var To=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["nz-page-header-subtitle"],["","nz-page-header-subtitle",""]],hostAttrs:[1,"ant-page-header-heading-sub-title"],exportAs:["nzPageHeaderSubtitle"],standalone:!0})}}return t})(),Eo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["nz-page-header-content"],["","nz-page-header-content",""]],hostAttrs:[1,"ant-page-header-content"],exportAs:["nzPageHeaderContent"],standalone:!0})}}return t})(),bo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["nz-page-header-tags"],["","nz-page-header-tags",""]],hostAttrs:[1,"ant-page-header-heading-tags"],exportAs:["nzPageHeaderTags"],standalone:!0})}}return t})(),Do=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["nz-page-header-extra"],["","nz-page-header-extra",""]],hostAttrs:[1,"ant-page-header-heading-extra"],exportAs:["nzPageHeaderExtra"],standalone:!0})}}return t})(),ji=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["nz-page-header-footer"],["","nz-page-header-footer",""]],hostAttrs:[1,"ant-page-header-footer"],exportAs:["nzPageHeaderFooter"],standalone:!0})}}return t})(),Pi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["nz-breadcrumb","nz-page-header-breadcrumb",""]],exportAs:["nzPageHeaderBreadcrumb"],standalone:!0})}}return t})(),No=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["nz-avatar","nz-page-header-avatar",""]],exportAs:["nzPageHeaderAvatar"],standalone:!0})}}return t})(),$i="pageHeader",Bi=(()=>{class t{constructor(e,i,n,o,u){this.nzConfigService=e,this.elementRef=i,this.nzResizeObserver=n,this.cdr=o,this.directionality=u,this._nzModuleName=$i,this.nzBackIcon=null,this.nzGhost=!0,this.nzBack=new S,this.compact=!1,this.destroy$=new j,this.dir="ltr",this.location=Ce(gt,{optional:!0})}ngOnInit(){this.directionality.change?.pipe(b(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.nzResizeObserver.observe(this.elementRef).pipe(ot(([e])=>e.contentRect.width),b(this.destroy$)).subscribe(e=>{this.compact=e<768,this.cdr.markForCheck()})}onBack(){if(this.nzBack.observers.length)this.nzBack.emit();else{if(!this.location)throw new Error(`${yt} you should import 'RouterModule' or register 'Location' if you want to use 'nzBack' default event!`);this.location.back()}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getBackIcon(){return this.dir==="rtl"?"arrow-right":"arrow-left"}static{this.\u0275fac=function(i){return new(i||t)(p(pe),p(K),p(Kt),p(R),p(X))}}static{this.\u0275cmp=v({type:t,selectors:[["nz-page-header"]],contentQueries:function(i,n,o){if(i&1&&(ee(o,ji,5),ee(o,Pi,5)),i&2){let u;x(u=T())&&(n.nzPageHeaderFooter=u.first),x(u=T())&&(n.nzPageHeaderBreadcrumb=u.first)}},hostAttrs:[1,"ant-page-header"],hostVars:10,hostBindings:function(i,n){i&2&&$("has-footer",n.nzPageHeaderFooter)("ant-page-header-ghost",n.nzGhost)("has-breadcrumb",n.nzPageHeaderBreadcrumb)("ant-page-header-compact",n.compact)("ant-page-header-rtl",n.dir==="rtl")},inputs:{nzBackIcon:"nzBackIcon",nzTitle:"nzTitle",nzSubtitle:"nzSubtitle",nzGhost:"nzGhost"},outputs:{nzBack:"nzBack"},exportAs:["nzPageHeader"],standalone:!0,features:[E],ngContentSelectors:Si,decls:13,vars:3,consts:[[1,"ant-page-header-heading"],[1,"ant-page-header-heading-left"],[1,"ant-page-header-back"],[1,"ant-page-header-heading-title"],[1,"ant-page-header-heading-sub-title"],[1,"ant-page-header-back",3,"click"],["role","button","tabindex","0",1,"ant-page-header-back-button"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(i,n){i&1&&(B(Ni),y(0),c(1,"div",0)(2,"div",1),m(3,Ii,3,1,"div",2),y(4,1),m(5,Mi,2,1,"span",3)(6,Fi,1,0)(7,Ai,2,1,"span",4)(8,Ri,1,0),y(9,2),l(),y(10,3),l(),y(11,4),y(12,5)),i&2&&(s(3),f(n.nzBackIcon!==null?3:-1),s(2),f(n.nzTitle?5:6),s(2),f(n.nzSubtitle?7:8))},dependencies:[ne,ie,A,O],encapsulation:2,changeDetection:0})}}return Q([U()],t.prototype,"nzGhost",void 0),t})();var So=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=w({imports:[Bi]})}}return t})();var Vi=["*"],Hi=t=>({$implicit:t});function Li(t,r){}function Qi(t,r){if(t&1&&(c(0,"span",3),m(1,Li,0,0,"ng-template",4),l()),t&2){let e=a(),i=e.$index,n=e.$count,o=a();q("margin-bottom",o.nzDirection==="vertical"?i===n-1?null:o.spaceSize:null,"px")("margin-right",o.nzDirection==="horizontal"?i===n-1?null:o.spaceSize:null,"px"),s(),d("ngTemplateOutlet",o.nzSplit)("ngTemplateOutletContext",be(6,Hi,i))}}function qi(t,r){if(t&1&&(c(0,"div",0),ht(1,1),l(),m(2,Qi,2,8,"span",2)),t&2){let e=r.$implicit,i=r.$index,n=r.$count,o=a();q("margin-bottom",o.nzDirection==="vertical"?i===n-1?null:o.spaceSize:null,"px")("margin-right",o.nzDirection==="horizontal"?i===n-1?null:o.spaceSize:null,"px"),s(),d("ngTemplateOutlet",e),s(),f(o.nzSplit&&i!==n-1?2:-1)}}var Ui=(()=>{class t{constructor(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["","nzSpaceItem",""]],standalone:!0})}}return t})(),Gi="space",gi={small:8,middle:16,large:24},Ho=(()=>{class t{constructor(e,i){this.nzConfigService=e,this.cdr=i,this._nzModuleName=Gi,this.nzDirection="horizontal",this.nzSplit=null,this.nzWrap=!1,this.nzSize="small",this.spaceSize=gi.small,this.destroy$=new j}updateSpaceItems(){let e=typeof this.nzSize=="string"?gi[this.nzSize]:this.nzSize;this.spaceSize=e/(this.nzSplit?2:1),this.cdr.markForCheck()}ngOnChanges(){this.updateSpaceItems(),this.mergedAlign=this.nzAlign===void 0&&this.nzDirection==="horizontal"?"center":this.nzAlign}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterContentInit(){this.updateSpaceItems(),this.items.changes.pipe(b(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}static{this.\u0275fac=function(i){return new(i||t)(p(pe),p(R))}}static{this.\u0275cmp=v({type:t,selectors:[["nz-space"],["","nz-space",""]],contentQueries:function(i,n,o){if(i&1&&ee(o,Ui,4,xe),i&2){let u;x(u=T())&&(n.items=u)}},hostAttrs:[1,"ant-space"],hostVars:14,hostBindings:function(i,n){i&2&&(q("flex-wrap",n.nzWrap?"wrap":null),$("ant-space-horizontal",n.nzDirection==="horizontal")("ant-space-vertical",n.nzDirection==="vertical")("ant-space-align-start",n.mergedAlign==="start")("ant-space-align-end",n.mergedAlign==="end")("ant-space-align-center",n.mergedAlign==="center")("ant-space-align-baseline",n.mergedAlign==="baseline"))},inputs:{nzDirection:"nzDirection",nzAlign:"nzAlign",nzSplit:"nzSplit",nzWrap:[2,"nzWrap","nzWrap",L],nzSize:"nzSize"},exportAs:["NzSpace"],standalone:!0,features:[se,P,E],ngContentSelectors:Vi,decls:3,vars:0,consts:[[1,"ant-space-item"],[3,"ngTemplateOutlet"],[1,"ant-space-split",3,"margin-bottom","margin-right"],[1,"ant-space-split"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,n){i&1&&(B(),y(0),ae(1,qi,3,6,null,null,Ee)),i&2&&(s(),ce(n.items))},dependencies:[Se],encapsulation:2,changeDetection:0})}}return Q([U()],t.prototype,"nzSize",void 0),t})(),Lo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=w({})}}return t})();var Wi=["*"];function Zi(t,r){if(t&1){let e=N();c(0,"span",1),C("click",function(n){g(e);let o=a();return _(o.closeTag(n))}),l()}}var Yi=(()=>{class t{constructor(e,i,n,o){this.cdr=e,this.renderer=i,this.elementRef=n,this.directionality=o,this.isPresetColor=!1,this.nzMode="default",this.nzChecked=!1,this.nzBordered=!0,this.nzOnClose=new S,this.nzCheckedChange=new S,this.dir="ltr",this.destroy$=new j}updateCheckedStatus(){this.nzMode==="checkable"&&(this.nzChecked=!this.nzChecked,this.nzCheckedChange.emit(this.nzChecked))}closeTag(e){this.nzOnClose.emit(e),e.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}clearPresetColor(){let e=this.elementRef.nativeElement,i=new RegExp(`(ant-tag-(?:${[...xt,...vt].join("|")}))`,"g"),n=e.classList.toString(),o=[],u=i.exec(n);for(;u!==null;)o.push(u[1]),u=i.exec(n);e.classList.remove(...o)}setPresetColor(){let e=this.elementRef.nativeElement;this.clearPresetColor(),this.nzColor?this.isPresetColor=Tt(this.nzColor)||Et(this.nzColor):this.isPresetColor=!1,this.isPresetColor&&e.classList.add(`ant-tag-${this.nzColor}`)}ngOnInit(){this.directionality.change?.pipe(b(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){let{nzColor:i}=e;i&&this.setPresetColor()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(p(R),p(Te),p(K),p(X))}}static{this.\u0275cmp=v({type:t,selectors:[["nz-tag"]],hostAttrs:[1,"ant-tag"],hostVars:12,hostBindings:function(i,n){i&1&&C("click",function(){return n.updateCheckedStatus()}),i&2&&(q("background-color",n.isPresetColor?"":n.nzColor),$("ant-tag-has-color",n.nzColor&&!n.isPresetColor)("ant-tag-checkable",n.nzMode==="checkable")("ant-tag-checkable-checked",n.nzChecked)("ant-tag-rtl",n.dir==="rtl")("ant-tag-borderless",!n.nzBordered))},inputs:{nzMode:"nzMode",nzColor:"nzColor",nzChecked:[2,"nzChecked","nzChecked",L],nzBordered:[2,"nzBordered","nzBordered",L]},outputs:{nzOnClose:"nzOnClose",nzCheckedChange:"nzCheckedChange"},exportAs:["nzTag"],standalone:!0,features:[se,P,E],ngContentSelectors:Wi,decls:2,vars:1,consts:[["nz-icon","","nzType","close","tabindex","-1",1,"ant-tag-close-icon"],["nz-icon","","nzType","close","tabindex","-1",1,"ant-tag-close-icon",3,"click"]],template:function(i,n){i&1&&(B(),y(0),m(1,Zi,1,0,"span",0)),i&2&&(s(),f(n.nzMode==="closeable"?1:-1))},dependencies:[A,O],encapsulation:2,changeDetection:0})}}return t})(),ir=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=w({imports:[Yi]})}}return t})();var We=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["button","nz-trans-button",""]],hostVars:8,hostBindings:function(i,n){i&2&&q("border","0")("background","transparent")("padding","0")("line-height","inherit")},standalone:!0})}}return t})(),Ze=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=w({})}}return t})();var Ye=class{constructor(r,e){this._document=e;let i=this._textarea=this._document.createElement("textarea"),n=i.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",i.setAttribute("aria-hidden","true"),i.value=r,i.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(i)}copy(){let r=this._textarea,e=!1;try{if(r){let i=this._document.activeElement;r.select(),r.setSelectionRange(0,r.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){let r=this._textarea;r&&(r.remove(),this._textarea=void 0)}},_i=(()=>{class t{constructor(e){this._document=e}copy(e){let i=this.beginCopy(e),n=i.copy();return i.destroy(),n}beginCopy(e){return new Ye(e,this._document)}static{this.\u0275fac=function(i){return new(i||t)(ct(De))}}static{this.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function nn(t,r){if(t&1&&(k(0),z(1,"span",2),I()),t&2){let e=r.$implicit;s(),d("nzType",e)}}var on=["textarea"];function rn(t,r){if(t&1){let e=N();c(0,"textarea",2,0),C("blur",function(){g(e);let n=a();return _(n.confirm())}),l(),c(2,"button",3),C("click",function(){g(e);let n=a();return _(n.confirm())}),z(3,"span",4),l()}}function sn(t,r){if(t&1&&(k(0),z(1,"span",7),I()),t&2){let e=r.$implicit;s(),d("nzType",e)}}function an(t,r){if(t&1){let e=N();c(0,"button",5),C("click",function(){g(e);let n=a();return _(n.onClick())}),m(1,sn,2,1,"ng-container",6),l()}if(t&2){let e=a();d("nzTooltipTitle",e.tooltip===null?null:e.tooltip||(e.locale==null?null:e.locale.edit)),s(),d("nzStringTemplateOutlet",e.icon)}}var cn=["ellipsisContainer"],ln=["expandable"],pn=["contentTemplate"],dn=["*"],mn=t=>({content:t});function un(t,r){t&1&&y(0)}function hn(t,r){if(t&1&&(m(0,un,1,0),h(1)),t&2){let e=r.content;f(e?-1:0),s(),H(" ",e," ")}}function fn(t,r){}function Cn(t,r){if(t&1&&h(0),t&2){let e=a(3);H(" ",e.nzSuffix," ")}}function zn(t,r){if(t&1&&m(0,fn,0,0,"ng-template",5)(1,Cn,1,1),t&2){let e=a(2),i=te(1);d("ngTemplateOutlet",i)("ngTemplateOutletContext",be(3,mn,e.nzContent)),s(),f(e.nzSuffix?1:-1)}}function gn(t,r){if(t&1&&h(0),t&2){let e=a(3);H(" ",e.ellipsisStr," ")}}function _n(t,r){if(t&1&&h(0),t&2){let e=a(3);H(" ",e.nzSuffix," ")}}function yn(t,r){if(t&1){let e=N();c(0,"a",7,2),C("click",function(){g(e);let n=a(3);return _(n.onExpand())}),h(2),l()}if(t&2){let e=a(3);s(2),H(" ",e.locale==null?null:e.locale.expand," ")}}function vn(t,r){if(t&1&&(z(0,"span",null,1),m(2,gn,1,1)(3,_n,1,1)(4,yn,3,1,"a",6)),t&2){let e=a(2);s(2),f(e.isEllipsis?2:-1),s(),f(e.nzSuffix?3:-1),s(),f(e.nzExpandable&&e.isEllipsis?4:-1)}}function xn(t,r){if(t&1&&m(0,zn,2,5)(1,vn,5,3),t&2){let e=a();f(e.expanded||!e.hasOperationsWithEllipsis&&e.nzEllipsisRows===1&&!e.hasEllipsisObservers||e.canCssEllipsis||e.nzSuffix&&e.expanded?0:1)}}function Tn(t,r){if(t&1){let e=N();c(0,"nz-text-edit",8),C("endEditing",function(n){g(e);let o=a();return _(o.onEndEditing(n))})("startEditing",function(){g(e);let n=a();return _(n.onStartEditing())}),l()}if(t&2){let e=a();d("text",e.nzContent)("icon",e.nzEditIcon)("tooltip",e.nzEditTooltip)}}function En(t,r){if(t&1){let e=N();c(0,"nz-text-copy",9),C("textCopy",function(n){g(e);let o=a();return _(o.onTextCopy(n))}),l()}if(t&2){let e=a();d("text",e.copyText)("tooltips",e.nzCopyTooltips)("icons",e.nzCopyIcons)}}var Ke=(()=>{class t{constructor(e,i,n,o){this.host=e,this.cdr=i,this.clipboard=n,this.i18n=o,this.copied=!1,this.nativeElement=this.host.nativeElement,this.copyTooltip=null,this.copedTooltip=null,this.copyIcon="copy",this.copedIcon="check",this.destroy$=new j,this.icons=["copy","check"],this.textCopy=new S}ngOnInit(){this.i18n.localeChange.pipe(b(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.updateTooltips(),this.cdr.markForCheck()})}ngOnChanges(e){let{tooltips:i,icons:n}=e;i&&this.updateTooltips(),n&&this.updateIcons()}ngOnDestroy(){clearTimeout(this.copyId),this.destroy$.next(!0),this.destroy$.complete()}onClick(){if(this.copied)return;this.copied=!0,this.cdr.detectChanges();let e=this.text;this.textCopy.emit(e),this.clipboard.copy(e),this.onCopied()}onCopied(){clearTimeout(this.copyId),this.copyId=setTimeout(()=>{this.copied=!1,this.cdr.detectChanges()},3e3)}updateTooltips(){if(this.tooltips===null)this.copedTooltip=null,this.copyTooltip=null;else if(Array.isArray(this.tooltips)){let[e,i]=this.tooltips;this.copyTooltip=e||this.locale?.copy,this.copedTooltip=i||this.locale?.copied}else this.copyTooltip=this.locale?.copy,this.copedTooltip=this.locale?.copied;this.cdr.markForCheck()}updateIcons(){let[e,i]=this.icons;this.copyIcon=e,this.copedIcon=i,this.cdr.markForCheck()}static{this.\u0275fac=function(i){return new(i||t)(p(K),p(R),p(_i),p(we))}}static{this.\u0275cmp=v({type:t,selectors:[["nz-text-copy"]],inputs:{text:"text",tooltips:"tooltips",icons:"icons"},outputs:{textCopy:"textCopy"},exportAs:["nzTextCopy"],standalone:!0,features:[P,E],decls:2,vars:4,consts:[["type","button","nz-tooltip","","nz-trans-button","",1,"ant-typography-copy",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(i,n){i&1&&(c(0,"button",0),C("click",function(){return n.onClick()}),m(1,nn,2,1,"ng-container",1),l()),i&2&&($("ant-typography-copy-success",n.copied),d("nzTooltipTitle",n.copied?n.copedTooltip:n.copyTooltip),s(),d("nzStringTemplateOutlet",n.copied?n.copedIcon:n.copyIcon))},dependencies:[oe,ye,Ze,We,A,O,ne,ie],encapsulation:2,changeDetection:0})}}return t})(),Xe=(()=>{class t{set textarea(e){this.textarea$.next(e)}constructor(e,i,n,o,u){this.ngZone=e,this.host=i,this.cdr=n,this.i18n=o,this.destroy$=u,this.editing=!1,this.icon="edit",this.startEditing=new S,this.endEditing=new S(!0),this.nativeElement=this.host.nativeElement,this.textarea$=new nt(null),this.injector=Ce(lt)}ngOnInit(){this.i18n.localeChange.pipe(b(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.textarea$.pipe(Ve(e=>e?new Pe(i=>this.ngZone.runOutsideAngular(()=>Be(e.nativeElement,"keydown").subscribe(i))):$e),b(this.destroy$)).subscribe(e=>{e.keyCode!==27&&e.keyCode!==13||this.ngZone.run(()=>{e.keyCode===27?this.onCancel():this.onEnter(e),this.cdr.markForCheck()})}),this.textarea$.pipe(Ve(e=>e?new Pe(i=>this.ngZone.runOutsideAngular(()=>Be(e.nativeElement,"input").subscribe(i))):$e),b(this.destroy$)).subscribe(e=>{this.currentText=e.target.value})}onClick(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()}confirm(){this.editing=!1,this.endEditing.emit(this.currentText)}onEnter(e){e.stopPropagation(),e.preventDefault(),this.confirm()}onCancel(){this.currentText=this.beforeText,this.confirm()}focusAndSetValue(){let{injector:e}=this;mt(()=>{this.textarea$.pipe(st(i=>i!=null),b(this.destroy$)).subscribe(i=>{i.nativeElement.focus(),i.nativeElement.value=this.currentText||"",this.autosizeDirective.resizeToFitContent(),this.cdr.markForCheck()})},{injector:e})}static{this.\u0275fac=function(i){return new(i||t)(p(He),p(K),p(R),p(we),p(Fe))}}static{this.\u0275cmp=v({type:t,selectors:[["nz-text-edit"]],viewQuery:function(i,n){if(i&1&&(F(on,5),F(fe,5)),i&2){let o;x(o=T())&&(n.textarea=o.first),x(o=T())&&(n.autosizeDirective=o.first)}},inputs:{text:"text",icon:"icon",tooltip:"tooltip"},outputs:{startEditing:"startEditing",endEditing:"endEditing"},exportAs:["nzTextEdit"],standalone:!0,features:[ft([Fe]),E],decls:2,vars:1,consts:[["textarea",""],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"nzTooltipTitle"],["nz-input","","nzAutosize","",3,"blur"],["nz-trans-button","",1,"ant-typography-edit-content-confirm",3,"click"],["nz-icon","","nzType","enter"],["nz-tooltip","","nz-trans-button","",1,"ant-typography-edit",3,"click","nzTooltipTitle"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"]],template:function(i,n){i&1&&m(0,rn,4,0)(1,an,2,2,"button",1),i&2&&f(n.editing?0:1)},dependencies:[Ae,Oe,fe,Ze,We,A,O,oe,ye,ne,ie],encapsulation:2,changeDetection:0})}}return t})(),bn="typography",Dn="ant-typography-expand",Je=(()=>{class t{get hasEllipsisObservers(){return this.nzOnEllipsis.observers.length>0}get canCssEllipsis(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded&&!this.hasEllipsisObservers}get hasOperationsWithEllipsis(){return(this.nzCopyable||this.nzEditable||this.nzExpandable)&&this.nzEllipsis}get copyText(){return typeof this.nzCopyText=="string"?this.nzCopyText:this.nzContent}constructor(e,i,n,o,u,G,J,Z,Y){this.nzConfigService=e,this.host=i,this.cdr=n,this.viewContainerRef=o,this.renderer=u,this.platform=G,this.i18n=J,this.resizeService=Z,this.directionality=Y,this._nzModuleName=bn,this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzCopyTooltips=void 0,this.nzCopyIcons=["copy","check"],this.nzEditTooltip=void 0,this.nzEditIcon="edit",this.nzEllipsisRows=1,this.nzContentChange=new S,this.nzCopy=new S,this.nzExpandChange=new S,this.nzOnEllipsis=new S,this.document=Ce(De),this.expandableBtnElementCache=null,this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!0,this.expanded=!1,this.ellipsisStr="...",this.dir="ltr",this.viewInit=!1,this.rfaId=-1,this.destroy$=new j,this.windowResizeSubscription=it.EMPTY}onTextCopy(e){this.nzCopy.emit(e)}onStartEditing(){this.editing=!0}onEndEditing(e){this.editing=!1,this.nzContentChange.emit(e),this.nzContent===e&&this.renderOnNextFrame(),this.cdr.markForCheck()}onExpand(){this.isEllipsis=!1,this.expanded=!0,this.nzExpandChange.emit(),this.nzOnEllipsis.emit(!1)}canUseCSSEllipsis(){return this.nzEditable||this.nzCopyable||this.nzExpandable||this.nzSuffix||this.hasEllipsisObservers?!1:this.nzEllipsisRows===1?Qe("textOverflow"):Qe("webkitLineClamp")}renderOnNextFrame(){Rt(this.rfaId),!(!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser)&&(this.rfaId=jt(()=>{this.syncEllipsis()}))}getOriginContentViewRef(){let e=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return e.detectChanges(),{viewRef:e,removeView:()=>{this.viewContainerRef.remove(this.viewContainerRef.indexOf(e))}}}syncEllipsis(){if(this.cssEllipsis)return;let{viewRef:e,removeView:i}=this.getOriginContentViewRef(),n=[this.textCopyRef,this.textEditRef].filter(Y=>Y&&Y.nativeElement).map(Y=>Y.nativeElement),o=this.getExpandableBtnElement();o&&n.push(o);let{contentNodes:u,text:G,ellipsis:J}=bt(this.host.nativeElement,this.nzEllipsisRows,e.rootNodes,n,this.ellipsisStr,this.nzSuffix);i(),this.ellipsisText=G,J!==this.isEllipsis&&(this.isEllipsis=J,this.nzOnEllipsis.emit(J));let Z=this.ellipsisContainer.nativeElement;for(;Z.firstChild;)this.renderer.removeChild(Z,Z.firstChild);u.forEach(Y=>{this.renderer.appendChild(Z,Y.cloneNode(!0))}),this.cdr.markForCheck()}getExpandableBtnElement(){if(this.nzExpandable){let e=this.locale?this.locale.expand:"",i=this.expandableBtnElementCache;if(!i||i.innerText===e){let n=this.document.createElement("a");n.className=Dn,n.innerText=e,this.expandableBtnElementCache=n}return this.expandableBtnElementCache}else return this.expandableBtnElementCache=null,null}renderAndSubscribeWindowResize(){this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.windowResizeSubscription=this.resizeService.subscribe().pipe(b(this.destroy$)).subscribe(()=>this.renderOnNextFrame()))}ngOnInit(){this.i18n.localeChange.pipe(b(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Text"),this.cdr.markForCheck()}),this.directionality.change?.pipe(b(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngAfterViewInit(){this.viewInit=!0,this.renderAndSubscribeWindowResize()}ngOnChanges(e){let{nzCopyable:i,nzEditable:n,nzExpandable:o,nzEllipsis:u,nzContent:G,nzEllipsisRows:J,nzSuffix:Z}=e;(i||n||o||u||G||J||Z)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.expandableBtnElementCache=null,this.windowResizeSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(p(pe),p(K),p(R),p(ze),p(Te),p(Dt),p(we),p(Pt),p(X))}}static{this.\u0275cmp=v({type:t,selectors:[["nz-typography"],["","nz-typography",""],["p","nz-paragraph",""],["span","nz-text",""],["h1","nz-title",""],["h2","nz-title",""],["h3","nz-title",""],["h4","nz-title",""]],viewQuery:function(i,n){if(i&1&&(F(Xe,5),F(Ke,5),F(cn,5),F(ln,5),F(pn,5)),i&2){let o;x(o=T())&&(n.textEditRef=o.first),x(o=T())&&(n.textCopyRef=o.first),x(o=T())&&(n.ellipsisContainer=o.first),x(o=T())&&(n.expandableBtn=o.first),x(o=T())&&(n.contentTemplate=o.first)}},hostVars:26,hostBindings:function(i,n){i&2&&(q("-webkit-line-clamp",n.canCssEllipsis&&n.nzEllipsisRows>1?n.nzEllipsisRows:null),$("ant-typography",!n.editing)("ant-typography-rtl",n.dir==="rtl")("ant-typography-edit-content",n.editing)("ant-typography-secondary",n.nzType==="secondary")("ant-typography-warning",n.nzType==="warning")("ant-typography-danger",n.nzType==="danger")("ant-typography-success",n.nzType==="success")("ant-typography-disabled",n.nzDisabled)("ant-typography-ellipsis",n.nzEllipsis&&!n.expanded)("ant-typography-single-line",n.nzEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-single-line",n.canCssEllipsis&&n.nzEllipsisRows===1)("ant-typography-ellipsis-multiple-line",n.canCssEllipsis&&n.nzEllipsisRows>1))},inputs:{nzCopyable:[2,"nzCopyable","nzCopyable",L],nzEditable:[2,"nzEditable","nzEditable",L],nzDisabled:[2,"nzDisabled","nzDisabled",L],nzExpandable:[2,"nzExpandable","nzExpandable",L],nzEllipsis:[2,"nzEllipsis","nzEllipsis",L],nzCopyTooltips:"nzCopyTooltips",nzCopyIcons:"nzCopyIcons",nzEditTooltip:"nzEditTooltip",nzEditIcon:"nzEditIcon",nzContent:"nzContent",nzEllipsisRows:[2,"nzEllipsisRows","nzEllipsisRows",zt],nzType:"nzType",nzCopyText:"nzCopyText",nzSuffix:"nzSuffix"},outputs:{nzContentChange:"nzContentChange",nzCopy:"nzCopy",nzExpandChange:"nzExpandChange",nzOnEllipsis:"nzOnEllipsis"},exportAs:["nzTypography"],standalone:!0,features:[se,P,E],ngContentSelectors:dn,decls:5,vars:3,consts:[["contentTemplate",""],["ellipsisContainer",""],["expandable",""],[3,"text","icon","tooltip"],[3,"text","tooltips","icons"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-typography-expand"],[1,"ant-typography-expand",3,"click"],[3,"endEditing","startEditing","text","icon","tooltip"],[3,"textCopy","text","tooltips","icons"]],template:function(i,n){i&1&&(B(),m(0,hn,2,2,"ng-template",null,0,le)(2,xn,2,1)(3,Tn,1,3,"nz-text-edit",3)(4,En,1,3,"nz-text-copy",4)),i&2&&(s(2),f(n.editing?-1:2),s(),f(n.nzEditable?3:-1),s(),f(n.nzCopyable&&!n.editing?4:-1))},dependencies:[Se,Xe,Ke],encapsulation:2,changeDetection:0})}}return Q([U()],t.prototype,"nzCopyTooltips",void 0),Q([U()],t.prototype,"nzCopyIcons",void 0),Q([U()],t.prototype,"nzEditTooltip",void 0),Q([U()],t.prototype,"nzEditIcon",void 0),Q([U()],t.prototype,"nzEllipsisRows",void 0),t})(),yi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=w({imports:[Je,Ke,Xe]})}}return t})();var Sn=["*"];function kn(t,r){t&1&&y(0)}var In=[[["nz-avatar","nz-comment-avatar",""]],[["nz-comment-content"]],"*"],wn=["nz-avatar[nz-comment-avatar]","nz-comment-content","*"];function Mn(t,r){if(t&1&&(k(0),h(1),I()),t&2){let e=a(2);s(),V(e.nzAuthor)}}function Fn(t,r){if(t&1&&(c(0,"span",4),m(1,Mn,2,1,"ng-container",8),l()),t&2){let e=a();s(),d("nzStringTemplateOutlet",e.nzAuthor)}}function On(t,r){if(t&1&&(k(0),h(1),I()),t&2){let e=a(2);s(),V(e.nzDatetime)}}function An(t,r){if(t&1&&(c(0,"span",5),m(1,On,2,1,"ng-container",8),l()),t&2){let e=a();s(),d("nzStringTemplateOutlet",e.nzDatetime)}}function Rn(t,r){}function jn(t,r){if(t&1&&(c(0,"li")(1,"span"),m(2,Rn,0,0,"ng-template",9),l()()),t&2){let e=r.$implicit;s(2),d("nzCommentActionHost",e.content)}}function Pn(t,r){if(t&1&&(c(0,"ul",6),ae(1,jn,3,1,"li",null,Ee),l()),t&2){let e=a();s(),ce(e.actions)}}var vi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["nz-avatar","nz-comment-avatar",""]],exportAs:["nzCommentAvatar"],standalone:!0})}}return t})(),xi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=D({type:t,selectors:[["nz-comment-content"],["","nz-comment-content",""]],hostAttrs:[1,"ant-comment-content-detail"],exportAs:["nzCommentContent"],standalone:!0})}}return t})(),$n=(()=>{class t extends Bt{constructor(e,i){super(e,i)}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}ngAfterViewInit(){this.attach(this.nzCommentActionHost)}static{this.\u0275fac=function(i){return new(i||t)(p(pt),p(ze))}}static{this.\u0275dir=D({type:t,selectors:[["","nzCommentActionHost",""]],inputs:{nzCommentActionHost:"nzCommentActionHost"},exportAs:["nzCommentActionHost"],standalone:!0,features:[dt]})}}return t})(),et=(()=>{class t{get content(){return this.contentPortal}constructor(e){this.viewContainerRef=e,this.contentPortal=null}ngOnInit(){this.contentPortal=new $t(this.implicitContent,this.viewContainerRef)}static{this.\u0275fac=function(i){return new(i||t)(p(ze))}}static{this.\u0275cmp=v({type:t,selectors:[["nz-comment-action"]],viewQuery:function(i,n){if(i&1&&F(xe,7),i&2){let o;x(o=T())&&(n.implicitContent=o.first)}},exportAs:["nzCommentAction"],standalone:!0,features:[E],ngContentSelectors:Sn,decls:1,vars:0,template:function(i,n){i&1&&(B(),m(0,kn,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}}return t})(),tt=(()=>{class t{constructor(e,i){this.cdr=e,this.directionality=i,this.dir="ltr",this.destroy$=new j}ngOnInit(){this.directionality.change?.pipe(b(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(p(R),p(X))}}static{this.\u0275cmp=v({type:t,selectors:[["nz-comment"]],contentQueries:function(i,n,o){if(i&1&&ee(o,et,4),i&2){let u;x(u=T())&&(n.actions=u)}},hostVars:4,hostBindings:function(i,n){i&2&&$("ant-comment",!0)("ant-comment-rtl",n.dir==="rtl")},inputs:{nzAuthor:"nzAuthor",nzDatetime:"nzDatetime"},exportAs:["nzComment"],standalone:!0,features:[E],ngContentSelectors:wn,decls:11,vars:3,consts:[[1,"ant-comment-inner"],[1,"ant-comment-avatar"],[1,"ant-comment-content"],[1,"ant-comment-content-author"],[1,"ant-comment-content-author-name"],[1,"ant-comment-content-author-time"],[1,"ant-comment-actions"],[1,"ant-comment-nested"],[4,"nzStringTemplateOutlet"],[3,"nzCommentActionHost"]],template:function(i,n){i&1&&(B(In),c(0,"div",0)(1,"div",1),y(2),l(),c(3,"div",2)(4,"div",3),m(5,Fn,2,1,"span",4)(6,An,2,1,"span",5),l(),y(7,1),m(8,Pn,3,0,"ul",6),l()(),c(9,"div",7),y(10,2),l()),i&2&&(s(5),f(n.nzAuthor?5:-1),s(),f(n.nzDatetime?6:-1),s(2),f(n.actions!=null&&n.actions.length?8:-1))},dependencies:[ne,ie,$n],encapsulation:2,changeDetection:0})}}return t})();var je=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=M({type:t})}static{this.\u0275inj=w({imports:[tt]})}}return t})();var Di=(()=>{class t{constructor(e){this.store=e,this.isLiked=!1,this.isDisliked=!1,this.likesCount=0,this.dislikesCount=0,this.commentId=void 0,this.articleId=void 0}ngOnInit(){this.isLiked=this.comment.isLiked,this.isDisliked=this.comment.isDisliked,this.likesCount=this.comment.like_counts,this.dislikesCount=this.comment.dislike_counts,this.commentId=this.comment?.id,this.articleId=this.comment?.article_id}ngOnChanges(e){this.isLiked=this.comment.isLiked,this.isDisliked=this.comment.isDisliked,this.likesCount=this.comment.like_counts,this.dislikesCount=this.comment.dislike_counts}onSubmitLike(){this.isLiked=!this.isLiked,this.isLiked?this.likesCount=this.likesCount+1:this.likesCount=this.likesCount-1,this.isLiked&&(this.isDisliked=!1,this.dislikesCount>0&&(this.dislikesCount=this.dislikesCount-1));let e={liked:this.isLiked,disliked:this.isDisliked,slug:this.slug,commentId:this.commentId,articleId:this.articleId};this.store.dispatch(Ue.likeComment({request:e}))}onSubmitDislike(){this.isDisliked=!this.isDisliked,this.isDisliked?this.dislikesCount=this.dislikesCount+1:this.isDisliked||(this.dislikesCount=this.dislikesCount-1),this.isDisliked&&(this.isLiked=!1,this.likesCount>0&&(this.likesCount=this.likesCount-1));let e={liked:this.isLiked,disliked:this.isDisliked,slug:this.slug,commentId:this.commentId,articleId:this.articleId};this.store.dispatch(Ue.dislikeComment({request:e}))}ngOnDestroy(){this.commentReactSubs?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(p(de))}}static{this.\u0275cmp=v({type:t,selectors:[["app-react-comments"]],inputs:{nzType:"nzType",comment:"comment",slug:"slug",isLiked:"isLiked",isDisliked:"isDisliked",likesCount:"likesCount",dislikesCount:"dislikesCount"},standalone:!0,features:[P,E],decls:8,vars:7,consts:[["nz-button","","nzType","text",3,"click"],["nz-tooltip","","nz-icon","",3,"nzTooltipTitle","nzType","nzTheme"],[1,"count"],["nz-tooltip","","nz-icon","","nzType","dislike",3,"nzTooltipTitle","nzTheme"]],template:function(i,n){i&1&&(c(0,"button",0),C("click",function(){return n.onSubmitLike()}),z(1,"span",1),l(),c(2,"span",2),h(3),l(),c(4,"button",0),C("click",function(){return n.onSubmitDislike()}),z(5,"span",3),l(),c(6,"span",2),h(7),l()),i&2&&(s(),d("nzTooltipTitle",n.isLiked?"Unlike":"Like")("nzType",n.nzType=="like"?"like":"dislike")("nzTheme",n.isLiked?"fill":"outline"),s(2),H(" ",n.likesCount?n.likesCount:0,""),s(2),d("nzTooltipTitle",n.isDisliked?"Remove dislike":"Dislike")("nzTheme",n.isDisliked?"fill":"outline"),s(2),V(n.dislikesCount?n.dislikesCount:0))},dependencies:[je,oe,ye,A,O,he,ue,me]})}}return t})();var Hn=["p"],Ln=["commentInput"],Qn=()=>({minRows:3,maxRows:5});function qn(t,r){t&1&&(c(0,"div")(1,"span",9),h(2,"Log in to unlock the comments section."),l()())}function Un(t,r){if(t&1){let e=N();c(0,"form",10),C("ngSubmit",function(){g(e);let n=a(2);return _(n.onSubmit())}),c(1,"nz-comment"),z(2,"nz-avatar",11),c(3,"nz-comment-content")(4,"nz-form-item"),z(5,"textarea",12,1),l(),c(7,"nz-form-item")(8,"button",13),h(9,"Comment"),l()()()()()}if(t&2){let e=a(2);d("formGroup",e.form)}}function Gn(t,r){if(t&1&&(k(0),m(1,qn,3,0,"div",7)(2,Un,10,1,"form",8),I()),t&2){let e=r.ngIf;s(),d("ngIf",e.error),s(),d("ngIf",e.currentUser)}}function Wn(t,r){t&1&&h(0," test ")}function Zn(t,r){t&1&&z(0,"span",23)}function Yn(t,r){if(t&1){let e=N();c(0,"button",19),m(1,Zn,1,0,"span",20),l(),c(2,"nz-dropdown-menu",null,2)(4,"ul",21)(5,"li",22),C("click",function(){g(e);let n=a(),o=n.$implicit,u=n.$index,G=a(3);return _(G.onEditComment(o,u))}),h(6," Edit "),l(),c(7,"li",22),C("click",function(){g(e);let n=a().$implicit,o=a(3);return _(o.showConfirm(n.id))}),h(8,"Delete"),l()()()}if(t&2){let e=te(3),i=a(4);d("nzDropdownMenu",e),s(),d("ngIf",!i.isEditComment)}}function Kn(t,r){if(t&1){let e=N();c(0,"form",24),C("ngSubmit",function(){g(e);let n=a().$index,o=a(3);return _(o.onUpdateComment(n))}),c(1,"nz-form-item"),z(2,"input",25),c(3,"textarea",26),h(4),l()(),c(5,"nz-form-item")(6,"a",27),C("click",function(){g(e);let n=a(4);return _(n.onCancelEdit())}),h(7,"Cancel"),l(),h(8," \xA0\xA0 "),c(9,"button",28),z(10,"span",29),l()()()}if(t&2){let e=a().$implicit,i=a(3);d("formGroup",i.formEditComment),s(2),d("value",e.id),s(),d("nzAutosize",Ct(4,Qn)),s(),H("",e==null?null:e.body,`
                 `)}}function Xn(t,r){if(t&1&&(c(0,"p"),h(1),l()),t&2){let e=a().$implicit;Le("id","commentBody"+e.id),s(),H(" ",e==null?null:e.body," ")}}function Jn(t,r){if(t&1&&(c(0,"nz-comment",14),z(1,"nz-avatar",15),c(2,"nz-comment-content")(3,"div",16),m(4,Yn,9,2),l(),m(5,Kn,11,5,"form",17)(6,Xn,2,2,"p"),l(),c(7,"nz-comment-action"),z(8,"app-react-comments",18),l()()),t&2){let e=r.$implicit,i=r.$index,n=a(2).ngIf,o=a();d("nzAuthor",e==null||e.user==null?null:e.user.username)("nzDatetime",o.getTimeDiff(e.createdAt)),Le("id","comment-"+e.id),s(),d("nzSrc",e==null||e.user==null?null:e.user.image),s(3),f((n.currentUser==null?null:n.currentUser.id)==(e==null?null:e.user_id)?4:-1),s(),f(o.isEditComment&&o.isEditIndex===i?5:6),s(3),d("nzType","like")("comment",e)("slug",o.slug)("isLiked",e.isLiked)("isDisliked",e.isDisliked)("likesCount",e.like_counts)("dislikesCount",e.dislike_counts)}}function eo(t,r){if(t&1&&(c(0,"nz-card"),ae(1,Jn,9,13,"nz-comment",14,ut),l()),t&2){let e=a().ngIf;s(),ce(e.comments)}}function to(t,r){if(t&1&&(c(0,"div"),m(1,eo,3,0,"nz-card",7),l()),t&2){let e=r.ngIf;s(),d("ngIf",e.comments.length>0)}}var Os=(()=>{class t{constructor(e,i,n,o,u){this.modalService=e,this.messageService=i,this.fb=n,this.actions$=o,this.store=u,this.commentSubmit=new S,this.isLiked=null,this.isDisliked=null,this.likesCount=0,this.isEditComment=!1,this.isEditIndex=null,this.isVisibleConfirm=!1,this.data$=rt({isLoading:this.store.select(pi),error:this.store.select(di),comments:this.store.select(mi),currentUser:this.store.select(Re),updatedComment:this.store.select(ui)}),this.form=this.fb.nonNullable.group({body:["",Me.required]}),this.formEditComment=this.fb.nonNullable.group({editCommentId:["",Me.required],editBody:["",Me.required]})}ngOnInit(){}ngOnChanges(e){this.actionsSub=this.actions$.pipe(qe(re.commentArticleSuccess)).subscribe(({comment:i})=>{setTimeout(()=>this.scrollToComment(i.id.toString()),100)}),this.selectCommentSub=this.actions$.pipe(qe(re.updateCommentArticleSuccess)).subscribe(({comment:i})=>{let n=document.getElementById("commentBody"+i.id);n&&(n.innerText=i.body),this.scrollToComment(i.id.toString()),setTimeout(()=>this.scrollToComment(i.id.toString()),100)}),e.articleId&&this.articleId!==null&&this.store.dispatch(re.getComment({articleId:this.articleId,slug:this.slug}))}ngAfterViewInit(){this.isDirectComment===!0&&setTimeout(()=>{this.commentInput.nativeElement.focus(),this.commentInput.nativeElement.scrollIntoView({behavior:"smooth",block:"center"})},500)}getTimeDiff(e){return hi(e)}onSubmit(){let e=this.form.get("body")?.value,i=this.slug,o={comment:{body:e,slug:i}};this.store.dispatch(re.commentArticle({request:o})),this.form.reset()}onEditComment(e,i){this.formEditComment.patchValue({editCommentId:e.id.toString(),editBody:e.body}),this.isEditComment=!0,this.isEditIndex=i}onUpdateComment(e){let i=this.formEditComment.get("editBody")?.value,n=this.formEditComment.get("editCommentId")?.value,o=this.slug,G={comment:{commentId:n,body:i,slug:o}};this.store.dispatch(re.updateCommentArticle({request:G})),this.onCancelEdit()}onCancelEdit(){this.isEditComment=!1,this.isEditIndex=null}showConfirm(e){this.modalService.confirm({nzTitle:"Are you sure you want to delete this comment?",nzContent:"",nzOkText:"OK",nzCancelText:"Cancel",nzOkType:"primary",nzOkDanger:!0,nzOnOk:()=>{let i=this.slug;this.store.dispatch(re.deleteComment({commentId:e,slug:i})),this.messageService.success("Comment was successfully deleted.")}})}scrollToComment(e){let i=document.getElementById("comment-"+e);i&&i.scrollIntoView({behavior:"smooth",block:"start"})}ngOnDestroy(){this.actionsSub.unsubscribe(),this.selectCommentSub.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(p(ri),p(ai),p(Ft),p(At),p(de))}}static{this.\u0275cmp=v({type:t,selectors:[["app-comment"]],viewQuery:function(i,n){if(i&1&&(F(Hn,5),F(Ln,5)),i&2){let o;x(o=T())&&(n.paragraphBody=o.first),x(o=T())&&(n.commentInput=o.first)}},inputs:{articleId:"articleId",slug:"slug",isDirectComment:"isDirectComment"},outputs:{commentSubmit:"commentSubmit"},standalone:!0,features:[P,E],decls:9,vars:7,consts:[["loginFirst",""],["commentInput",""],["menu","nzDropdownMenu"],["nz-row","","id","comment-container"],["nz-col","","nzSpan","22"],["nzPlain","","nzText","Comments","nzVariant","solid"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["nz-typography","","nzType","warning"],[3,"ngSubmit","formGroup"],["nz-comment-avatar","","nzIcon","user"],["formControlName","body","nz-input","","rows","4"],["nz-button","","nzType","primary"],[3,"nzAuthor","nzDatetime"],["nz-comment-avatar","","nzIcon","user",3,"nzSrc"],[1,"pull-right"],["nz-form","",3,"formGroup"],[3,"nzType","comment","slug","isLiked","isDisliked","likesCount","dislikesCount"],["nz-button","","nzType","text","nz-dropdown","","nzTrigger","click",3,"nzDropdownMenu"],["nz-icon","","nzType","more",4,"ngIf"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","more"],["nz-form","",3,"ngSubmit","formGroup"],["type","hidden","formControlName","editCommentId",3,"value"],["formControlName","editBody","nz-input","",3,"nzAutosize"],[3,"click"],["nzShape","round","nzSize","small","nz-button","","nzType","primary"],["nz-icon","","nzType","send"]],template:function(i,n){if(i&1&&(c(0,"div",3)(1,"div",4),z(2,"nz-divider",5),m(3,Gn,3,2,"ng-container",6),ge(4,"async"),m(5,Wn,1,0,"ng-template",null,0,le)(7,to,2,1,"div",7),ge(8,"async"),l()()),i&2){let o=te(6);s(3),d("ngIf",_e(4,3,n.data$))("ngIfElse",o),s(4),d("ngIf",_e(8,5,n.data$))}},dependencies:[Ie,Ne,ke,je,tt,vi,xi,et,Jt,Xt,ii,Qt,Lt,ti,ei,Ae,Oe,fe,he,ue,me,Ut,qt,li,ci,A,O,oe,oi,ni,Yt,Ht,Vt,Gt,Zt,Wt,si,yi,Je,Ot,It,Nt,St,kt,wt,Mt,Di],styles:["nz-divider[_ngcontent-%COMP%]:after, nz-divider[_ngcontent-%COMP%]:before{border-color:#7cb305!important}.count[_ngcontent-%COMP%]{padding-left:8px;cursor:auto}.pull-right[_ngcontent-%COMP%]{float:right;margin-top:-2px}"]})}}return t})();function io(t,r){if(t&1){let e=N();k(0),c(1,"button",2),C("click",function(){g(e);let n=a();return _(n.handleLike())}),z(2,"span",3),l(),c(3,"span",4),h(4),l(),I()}if(t&2){let e=a();s(2),d("nzTheme",e.isFavorited?"fill":"outline"),s(2),V(e.favoritesCount)}}function no(t,r){if(t&1&&(c(0,"button",5),z(1,"span",3),l(),c(2,"span",4),h(3),l()),t&2){let e=a();s(),d("nzTheme",e.isFavorited?"fill":"outline"),s(2),V(e.favoritesCount)}}var Hs=(()=>{class t{constructor(e){this.store=e,this.isFavorited=!1,this.favoritesCount=0,this.articleSlug="",this.currentUser$=this.store.select(Re)}ngOnInit(){}handleLike(){this.store.dispatch(fi.addToFavorites({isFavorited:this.isFavorited,slug:this.articleSlug})),this.isFavorited?this.favoritesCount=this.favoritesCount-1:this.favoritesCount=this.favoritesCount+1,this.isFavorited=!this.isFavorited}static{this.\u0275fac=function(i){return new(i||t)(p(de))}}static{this.\u0275cmp=v({type:t,selectors:[["app-add-to-favorites"]],inputs:{isFavorited:"isFavorited",favoritesCount:"favoritesCount",articleSlug:"articleSlug"},standalone:!0,features:[E],decls:4,vars:4,consts:[["redirectToLogin",""],[4,"ngIf","ngIfElse"],["nz-button","","nzType","text",3,"click"],["nz-icon","","nzType","heart",3,"nzTheme"],[1,"ml-5"],["routerLink","/sp/login","nz-button","","nzType","text"]],template:function(i,n){if(i&1&&(m(0,io,5,2,"ng-container",1),ge(1,"async"),m(2,no,4,2,"ng-template",null,0,le)),i&2){let o=te(3);d("ngIf",_e(1,2,n.currentUser$))("ngIfElse",o)}},dependencies:[Ie,Ne,ke,_t,A,O,he,ue,me],styles:[".ml-5[_ngcontent-%COMP%]{margin-left:5px}"]})}}return t})();export{To as a,Eo as b,bo as c,Do as d,No as e,Bi as f,So as g,Ui as h,Ho as i,Lo as j,Yi as k,ir as l,Je as m,yi as n,Os as o,Hs as p};
