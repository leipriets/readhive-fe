import{a as X,b as Y}from"./chunk-SPFBJREM.js";import{b as j,e as q,h as re}from"./chunk-TVVEEASD.js";import{d as ne}from"./chunk-KBK4WJI4.js";import{a as K,b as Q}from"./chunk-GQAHBFE6.js";import{c as W}from"./chunk-VXXMYUI5.js";import{a as Z,b as ee}from"./chunk-PENA6MT2.js";import{a as O,c as $,d as G,m as te}from"./chunk-OWTQ6K3K.js";import{c as J}from"./chunk-VPV7UKSS.js";import{E as P,F as U,G as V,H as B,P as ie,U as oe,q as L}from"./chunk-GN2DYACI.js";import{Ka as H,fa as A,ga as F,o as R,p as E}from"./chunk-KYAOKWVV.js";import{$b as x,Ac as S,Bc as I,Gb as u,Ia as h,Ja as _,Kb as n,Xb as r,Yb as a,Zb as l,_b as v,bc as y,dc as C,fc as c,hd as k,jd as D,md as w,nc as M,oc as m,pb as i,qb as d,qd as T,v as z,wa as g,wc as N,xc as f,yc as b}from"./chunk-DZ3RKEIN.js";var ae=()=>({tab:"globalFeed"}),le=t=>["notification",t],me=()=>({"ant-menu-horizontal":!1});function pe(t,p){if(t&1&&(r(0,"li",10)(1,"a",11)(2,"nz-badge",12),l(3,"span",13),a()()()),t&2){let e=c().ngIf;n("nzMatchRouter",!0),i(),n("routerLink",b(3,le,e.currentUser.username)),i(),n("nzCount",e==null||e.notif_count==null?null:e.notif_count.count)}}function ue(t,p){t&1&&(r(0,"li",14),m(1," Sign in "),a())}function ce(t,p){if(t&1){let e=y();r(0,"ul",15)(1,"li",16)(2,"span",17),l(3,"nz-avatar",18),a(),r(4,"nz-dropdown-menu",null,0)(6,"ul",19)(7,"li",20),l(8,"span",21),m(9,"\xA0Edit Profile "),a(),l(10,"li",22),r(11,"li",23),C("click",function(){h(e);let s=c(2);return _(s.logout())}),l(12,"span",24),m(13," Logout "),a()()()()()}if(t&2){let e=M(5),o=c().ngIf;n("nzSelectable",!1)("ngClass",f(5,me)),i(2),n("nzDropdownMenu",e)("nzPlacement","bottomRight"),i(),n("nzSrc",o.currentUser.image)}}function se(t,p){if(t&1&&(v(0),r(1,"ul",6),u(2,pe,4,5,"li",7)(3,ue,2,0,"li",8),a(),u(4,ce,14,6,"ul",9),x()),t&2){let e=p.ngIf;i(2),n("ngIf",e.currentUser),i(),n("ngIf",!e.currentUser),i(),n("ngIf",e.currentUser)}}var je=(()=>{class t{constructor(e,o){this.store=e,this.router=o,this.currentRoute="",this.isSelected=!1,this.isSelectedNotif=!1,this.notifCount=0,this.data$=z({currentUser:this.store.select(oe),notif_count:this.store.select(re)})}ngOnInit(){this.currentRoute=this.router.url}ngAfterViewInit(){let e=this.currentRoute.split("/")[1];(this.currentRoute=="/global-feed?tab=globalFeed"||this.currentRoute=="/feed?tab=feed")&&(this.isSelected=!0),e=="notification"&&(this.isSelectedNotif=!0)}logout(){this.store.dispatch(ie.logout())}ngOnDestroy(){}static{this.\u0275fac=function(o){return new(o||t)(d(H),d(R))}}static{this.\u0275cmp=g({type:t,selectors:[["app-header"]],standalone:!0,features:[N],decls:8,vars:7,consts:[["menu","nzDropdownMenu"],["nzTheme","dark"],["routerLink","/global-feed",3,"queryParams"],[1,"banner-title"],["nz-flex","",3,"nzJustify","nzAlign"],[4,"ngIf"],["nz-menu","","nzMode","horizontal","nzTheme","dark",1,"header-menu","pull-right"],["nz-menu-item","",3,"nzMatchRouter",4,"ngIf"],["nz-menu-item","","routerLink","/sp/login",4,"ngIf"],["class","header-menu pull-right no-hover","nz-menu","","nzMode","horizontal","nzTheme","dark",3,"nzSelectable","ngClass",4,"ngIf"],["nz-menu-item","",3,"nzMatchRouter"],["nz-button","","nzType","text","nzPlacement","bottomRight",3,"routerLink"],["nzSize","small",3,"nzCount"],["nz-icon","","nzType","bell"],["nz-menu-item","","routerLink","/sp/login"],["nz-menu","","nzMode","horizontal","nzTheme","dark",1,"header-menu","pull-right","no-hover",3,"nzSelectable","ngClass"],["nz-menu-item",""],["nz-dropdown","","nzTrigger","click",1,"pull-right","no-hover",3,"nzDropdownMenu","nzPlacement"],["nzSize","small","nzIcon","user",3,"nzSrc"],["nz-menu",""],["nz-menu-item","","routerLink","/settings"],["nz-icon","","nzType","setting"],["nz-menu-divider",""],["nz-menu-item","","nzDanger","",3,"click"],["nz-icon","","nzType","logout"]],template:function(o,s){o&1&&(r(0,"nz-header",1)(1,"div")(2,"a",2)(3,"h3",3),m(4,"ReadHive"),a()()(),r(5,"div",4),u(6,se,5,3,"ng-container",5),S(7,"async"),a()()),o&2&&(i(2),n("queryParams",f(6,ae)),i(3),n("nzJustify","flex-end")("nzAlign","flex-end"),i(),n("ngIf",I(7,4,s.data$)))},dependencies:[T,k,D,w,L,B,U,P,V,G,O,$,E,q,j,F,A,J,Q,K,W,Y,X,ee,Z,te,ne],styles:[`.ant-layout-header{padding:0 15px!important}nz-header{padding:0}.banner-title{float:left;color:#fff;text-align:start}.trigger{font-size:18px;line-height:64px;padding:0 24px;cursor:pointer;transition:color .3s}.mt{margin-top:15px!important}.trigger:hover{color:#1890ff}.pull-right{float:right}.header-menu{line-height:64px}.padding10{padding:10px}:host ::ng-deep .no-hover:hover{background-color:transparent!important;color:inherit!important}.no-hover.ant-menu-dark.ant-menu-horizontal>.ant-menu-item:hover{background-color:transparent!important}:host ::ng-deep .no-hover.ant-menu-item-selected,.no-hover.ant-menu-item-active{background-color:transparent!important}.ant-badge{color:#fff}.logo{width:120px;height:31px;background:#fff3;margin:16px 25px 16px 0;float:left}
`],encapsulation:2})}}return t})();export{je as a};
