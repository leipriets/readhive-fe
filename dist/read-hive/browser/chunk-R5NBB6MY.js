import{n as St,o as Tt}from"./chunk-IUPUSC2F.js";import{a as bt,b as It}from"./chunk-I4UZHOPB.js";import{$ as D,Cb as zt,F as Y,K as ct,L as Ne,Lb as Ct,Mb as yt,Nb as vt,Pb as xt,Rb as wt,_ as me,a as ot,aa as Pe,b as rt,c as st,d as at,e as lt,eb as Le,fa as he,fb as re,ga as ue,j as pt,mb as ht,qa as dt,rb as ut,sb as ft,vb as _t,wb as gt,y as ke}from"./chunk-D5Q3UIVE.js";import{$b as Xe,A as M,Db as ce,Dc as U,E as _e,Gb as d,Ha as ee,Ia as T,Ja as b,Jb as F,Ka as ze,Kb as c,L as He,Lb as L,Mb as k,Mc as X,Oa as Te,Pb as Ee,Pc as H,Qb as qe,Qc as de,Ra as le,Sa as pe,Sb as _,Ub as A,Va as be,Vb as V,Wb as W,Xb as m,Yb as f,Yc as ve,Zb as z,_b as Qe,a as Ue,ac as Ye,bc as P,c as G,cc as Ke,da as B,dc as I,ea as w,ec as Je,f as O,fc as a,ga as Ge,gc as Ce,hc as ye,hd as Ie,id as it,kc as ie,kd as Fe,la as Be,lc as ne,ld as xe,m as N,ma as se,mb as te,mc as oe,nc as x,oc as j,p as J,pb as p,qa as ge,qb as C,qc as q,qd as nt,ra as Z,rc as et,u as fe,vc as tt,vd as mt,wa as $,wc as R,wd as $e,xa as ae,xc as Oe,xd as De,ya as Ze,yc as Q,zd as Re}from"./chunk-DZ3RKEIN.js";import{a as E,c as We}from"./chunk-GAL4ENT6.js";var Gt=t=>({$implicit:t});function Bt(t,r){if(t&1&&z(0,"span",4),t&2){let e=a(3);c("nzType",e.icon)}}function Zt(t,r){if(t&1&&(Qe(0),j(1),Xe()),t&2){let e=r.$implicit,i=a(4);p(),q(" ",e(i.nzPercent)," ")}}function qt(t,r){if(t&1&&d(0,Zt,2,1,"ng-container",5),t&2){let e=a(3);c("nzStringTemplateOutlet",e.formatter)("nzStringTemplateOutletContext",Q(2,Gt,e.nzPercent))}}function Qt(t,r){if(t&1&&(m(0,"span",3),d(1,Bt,1,1,"span",4)(2,qt,1,4,"ng-container"),f()),t&2){let e=a(2);p(),_((e.status==="exception"||e.status==="success")&&!e.nzFormat?1:2)}}function Xt(t,r){if(t&1&&d(0,Qt,3,1,"span",3),t&2){let e=a();_(e.nzShowInfo?0:-1)}}function Yt(t,r){if(t&1&&z(0,"div",7),t&2){let e=r.$implicit;c("ngStyle",e)}}function Kt(t,r){}function Jt(t,r){if(t&1&&(m(0,"div",6),V(1,Yt,1,1,"div",7,A),d(3,Kt,0,0,"ng-template",8),f()),t&2){let e=a(2),i=x(1);p(),W(e.steps),p(2),c("ngTemplateOutlet",i)}}function ei(t,r){if(t&1&&z(0,"div",13),t&2){let e=a(3);L("width",e.nzSuccessPercent,"%")("border-radius",e.nzStrokeLinecap==="round"?"100px":"0")("height",e.strokeWidth,"px")}}function ti(t,r){}function ii(t,r){if(t&1&&(m(0,"div",9)(1,"div",10),z(2,"div",11),d(3,ei,1,6,"div",12),f()(),d(4,ti,0,0,"ng-template",8)),t&2){let e=a(2),i=x(1);p(2),L("width",e.nzPercent,"%")("border-radius",e.nzStrokeLinecap==="round"?"100px":"0")("background",e.isGradient?null:e.nzStrokeColor)("background-image",e.isGradient?e.lineGradient:null)("height",e.strokeWidth,"px"),p(),_(e.nzSuccessPercent||e.nzSuccessPercent===0?3:-1),p(),c("ngTemplateOutlet",i)}}function ni(t,r){if(t&1&&(m(0,"div"),d(1,Jt,4,1,"div",6)(2,ii,5,12),f()),t&2){let e=a();p(),_(e.isSteps?1:2)}}function oi(t,r){if(t&1&&(ze(),z(0,"stop")),t&2){let e=r.$implicit;F("offset",e.offset)("stop-color",e.color)}}function ri(t,r){if(t&1&&(ze(),m(0,"defs")(1,"linearGradient",17),V(2,oi,1,2,":svg:stop",null,A),f()()),t&2){let e=a(2);p(),c("id","gradient-"+e.gradientId),p(),W(e.circleGradient)}}function si(t,r){if(t&1&&(ze(),z(0,"path",16)),t&2){let e=r.$implicit,i=a(2);c("ngStyle",e.strokePathStyle),F("d",i.pathString)("stroke-linecap",i.nzStrokeLinecap)("stroke",e.stroke)("stroke-width",i.nzPercent?i.strokeWidth:0)}}function ai(t,r){}function li(t,r){if(t&1&&(m(0,"div",10),ze(),m(1,"svg",14),d(2,ri,4,1,":svg:defs"),z(3,"path",15),V(4,si,1,5,":svg:path",16,A),f(),d(6,ai,0,0,"ng-template",8),f()),t&2){let e=a(),i=x(1);L("width",e.nzWidth,"px")("height",e.nzWidth,"px")("font-size",e.nzWidth*.15+6,"px"),k("ant-progress-circle-gradient",e.isGradient),p(2),_(e.isGradient?2:-1),p(),c("ngStyle",e.trailPathStyle),F("stroke-width",e.strokeWidth)("d",e.pathString),p(),W(e.progressCirclePath),p(2),c("ngTemplateOutlet",i)}}function pi(t){return+t.replace("%","")}var Pt=t=>{let r=[];return Object.keys(t).forEach(e=>{let i=t[e],n=pi(e);isNaN(n)||r.push({key:n,value:i})}),r=r.sort((e,i)=>e.key-i.key),r},ci=t=>Pt(t).map(({key:r,value:e})=>({offset:`${r}%`,color:e})),di=t=>{let o=t,{from:r="#1890ff",to:e="#1890ff",direction:i="to right"}=o,n=We(o,["from","to","direction"]);if(Object.keys(n).length!==0){let s=Pt(n).map(({key:l,value:u})=>`${u} ${l}%`).join(", ");return`linear-gradient(${i}, ${s})`}return`linear-gradient(${i}, ${r}, ${e})`},mi=0,Ft="progress",hi=new Map([["success","check"],["exception","close"]]),ui=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),fi=t=>`${t}%`,je=(()=>{class t{get formatter(){return this.nzFormat||fi}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||(this.nzType==="line"&&this.nzSize!=="small"?8:6)}get isCircleStyle(){return this.nzType==="circle"||this.nzType==="dashboard"}constructor(e,i,n){this.cdr=e,this.nzConfigService=i,this.directionality=n,this._nzModuleName=Ft,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=mi++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new O}ngOnChanges(e){let{nzSteps:i,nzGapPosition:n,nzStrokeLinecap:o,nzStrokeColor:s,nzGapDegree:l,nzType:u,nzStatus:h,nzPercent:y,nzSuccessPercent:v,nzStrokeWidth:g}=e;h&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(y||v)&&(parseInt(this.nzPercent.toString(),10)>=100?(Y(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||this.nzSuccessPercent===void 0)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(h||y||v||s)&&this.updateIcon(),s&&this.setStrokeColor(),(n||o||l||u||y||s||s)&&this.getCirclePaths(),(y||i||g)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(Ft).pipe(w(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe(w(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){let e=hi.get(this.status);this.icon=e?e+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){let e=Math.floor(this.nzSteps*(this.nzPercent/100)),i=this.nzSize==="small"?2:14,n=[];for(let o=0;o<this.nzSteps;o++){let s;o<=e-1&&(s=this.nzStrokeColor);let l={backgroundColor:`${s}`,width:`${i}px`,height:`${this.strokeWidth}px`};n.push(l)}this.steps=n}getCirclePaths(){if(!this.isCircleStyle)return;let e=Y(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],i=50-this.strokeWidth/2,n=this.nzGapPosition||(this.nzType==="circle"?"top":"bottom"),o=Math.PI*2*i,s=this.nzGapDegree||(this.nzType==="circle"?0:75),l=0,u=-i,h=0,y=i*-2;switch(n){case"left":l=-i,u=0,h=i*2,y=0;break;case"right":l=i,u=0,h=i*-2,y=0;break;case"bottom":u=i,y=i*2;break;default:}this.pathString=`M 50,50 m ${l},${u}
       a ${i},${i} 0 1 1 ${h},${-y}
       a ${i},${i} 0 1 1 ${-h},${y}`,this.trailPathStyle={strokeDasharray:`${o-s}px ${o}px`,strokeDashoffset:`-${s/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=e.map((v,g)=>{let S=e.length===2&&g===0;return{stroke:this.isGradient&&!S?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:S?ui.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(v||0)/100*(o-s)}px ${o}px`,strokeDashoffset:`-${s/2}px`}}}).reverse()}setStrokeColor(){let e=this.nzStrokeColor,i=this.isGradient=!!e&&typeof e!="string";i&&!this.isCircleStyle?this.lineGradient=di(e):i&&this.isCircleStyle?this.circleGradient=ci(this.nzStrokeColor):(this.lineGradient=null,this.circleGradient=[])}static{this.\u0275fac=function(i){return new(i||t)(C(X),C(me),C(re))}}static{this.\u0275cmp=$({type:t,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:[2,"nzSuccessPercent","nzSuccessPercent",Ne],nzPercent:[2,"nzPercent","nzPercent",de],nzStrokeWidth:[2,"nzStrokeWidth","nzStrokeWidth",Ne],nzGapDegree:[2,"nzGapDegree","nzGapDegree",Ne],nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:[2,"nzSteps","nzSteps",de]},exportAs:["nzProgress"],standalone:!0,features:[ce,ee,R],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"]],template:function(i,n){i&1&&(d(0,Xt,1,1,"ng-template",null,0,U),m(2,"div",1),d(3,ni,3,1,"div")(4,li,7,13,"div",2),f()),i&2&&(p(2),k("ant-progress-line",n.nzType==="line")("ant-progress-small",n.nzSize==="small")("ant-progress-default",n.nzSize==="default")("ant-progress-show-info",n.nzShowInfo)("ant-progress-circle",n.isCircleStyle)("ant-progress-steps",n.isSteps)("ant-progress-rtl",n.dir==="rtl"),c("ngClass","ant-progress ant-progress-status-"+n.status),p(),_(n.nzType==="line"?3:-1),p(),_(n.isCircleStyle?4:-1))},dependencies:[ue,he,yt,Ct,Ie,xe,Fe],encapsulation:2,changeDetection:0})}}return N([D()],t.prototype,"nzShowInfo",void 0),N([D()],t.prototype,"nzStrokeColor",void 0),N([D()],t.prototype,"nzSize",void 0),N([D()],t.prototype,"nzStrokeWidth",void 0),N([D()],t.prototype,"nzGapDegree",void 0),N([D()],t.prototype,"nzGapPosition",void 0),N([D()],t.prototype,"nzStrokeLinecap",void 0),t})(),Dt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=se({imports:[je]})}}return t})();var gi=["file"],zi=["nz-upload-btn",""],Ut=["*"],we=t=>({$implicit:t}),Ci=()=>({opacity:.5,"pointer-events":"none"});function yi(t,r){}function vi(t,r){if(t&1&&(m(0,"div",16),d(1,yi,0,0,"ng-template",17),f()),t&2){let e=a(2).$implicit,i=x(5);k("ant-upload-list-item-file",!e.isUploading),p(),c("ngTemplateOutlet",i)("ngTemplateOutletContext",Q(4,we,e))}}function xi(t,r){if(t&1&&z(0,"img",19),t&2){let e=a(3).$implicit;c("src",e.thumbUrl||e.url,te),F("alt",e.name)}}function wi(t,r){}function Si(t,r){if(t&1&&d(0,wi,0,0,"ng-template",17),t&2){let e=a(3).$implicit,i=x(5);c("ngTemplateOutlet",i)("ngTemplateOutletContext",Q(2,we,e))}}function Ti(t,r){if(t&1){let e=P();m(0,"a",18),I("click",function(n){T(e);let o=a(2).$implicit,s=a();return b(s.handlePreview(o,n))}),d(1,xi,1,2,"img",19)(2,Si,1,4,null,17),f()}if(t&2){let e=a(2).$implicit;k("ant-upload-list-item-file",!e.isImageUrl),c("href",e.url||e.thumbUrl,te),p(),_(e.isImageUrl?1:2)}}function bi(t,r){}function Ii(t,r){if(t&1&&(m(0,"div",15),d(1,bi,0,0,"ng-template",17),f()),t&2){let e=a(2).$implicit,i=x(5);p(),c("ngTemplateOutlet",i)("ngTemplateOutletContext",Q(2,we,e))}}function Fi(t,r){if(t&1&&d(0,vi,2,6,"div",13)(1,Ti,3,4,"a",14)(2,Ii,2,4,"div",15),t&2){let e,i=a().$implicit;_((e=i.iconType)==="uploading"?0:e==="thumbnail"?1:2)}}function ki(t,r){t&1&&z(0,"span",21)}function Ni(t,r){if(t&1&&z(0,"span",22),t&2){let e=a(3).$implicit;c("nzType",e.isImageUrl?"picture":"file")}}function Pi(t,r){if(t&1&&d(0,ki,1,0,"span",21)(1,Ni,1,1,"span",22),t&2){let e=a(2).$implicit;_(e.isUploading?0:1)}}function Di(t,r){if(t&1&&j(0),t&2){let e=a(5);q(" ",e.locale.uploading," ")}}function Li(t,r){if(t&1&&z(0,"span",22),t&2){let e=a(3).$implicit;c("nzType",e.isImageUrl?"picture":"file")}}function Ui(t,r){if(t&1&&d(0,Di,1,1)(1,Li,1,1,"span",22),t&2){let e=a(2).$implicit;_(e.isUploading?0:1)}}function Ei(t,r){if(t&1&&z(0,"span",20),t&2){let e=a(2).$implicit;c("nzType",e.isUploading?"loading":"paper-clip")}}function Oi(t,r){if(t&1&&d(0,Pi,2,1)(1,Ui,2,1)(2,Ei,1,1,"span",20),t&2){let e,i=a(3);_((e=i.listType)==="picture"?0:e==="picture-card"?1:2)}}function $i(t,r){}function Ri(t,r){if(t&1&&d(0,$i,0,0,"ng-template",17),t&2){let e=a().$implicit,i=a(2);c("ngTemplateOutlet",i.iconRender)("ngTemplateOutletContext",Q(2,we,e))}}function Mi(t,r){if(t&1&&d(0,Oi,3,1)(1,Ri,1,4,null,17),t&2){let e=a(2);_(e.iconRender?1:0)}}function ji(t,r){if(t&1){let e=P();m(0,"button",24),I("click",function(n){T(e);let o=a(2).$implicit,s=a();return b(s.handleRemove(o,n))}),z(1,"span",25),f()}if(t&2){let e=a(3);F("title",e.locale.removeFile)}}function Ai(t,r){if(t&1&&d(0,ji,2,1,"button",23),t&2){let e=a(2);_(e.icons.showRemoveIcon?0:-1)}}function Vi(t,r){if(t&1){let e=P();m(0,"button",24),I("click",function(){T(e);let n=a(2).$implicit,o=a();return b(o.handleDownload(n))}),z(1,"span",26),f()}if(t&2){let e=a(3);F("title",e.locale.downloadFile)}}function Wi(t,r){if(t&1&&d(0,Vi,2,1,"button",23),t&2){let e=a().$implicit;_(e.showDownload?0:-1)}}function Hi(t,r){}function Gi(t,r){}function Bi(t,r){if(t&1&&(m(0,"span"),d(1,Hi,0,0,"ng-template",10)(2,Gi,0,0,"ng-template",10),f()),t&2){a(2);let e=x(7),i=x(9),n=a();Ee("ant-upload-list-item-card-actions ",n.listType==="picture"?"picture":"",""),p(),c("ngTemplateOutlet",i),p(),c("ngTemplateOutlet",e)}}function Zi(t,r){if(t&1&&d(0,Bi,3,5,"span",6),t&2){let e=a(2);_(e.listType!=="picture-card"?0:-1)}}function qi(t,r){if(t&1){let e=P();m(0,"a",29),I("click",function(n){T(e);let o=a(2).$implicit,s=a();return b(s.handlePreview(o,n))}),j(1),f()}if(t&2){let e=a(2).$implicit;c("href",e.url,te),F("title",e.name)("download",e.linkProps&&e.linkProps.download),p(),q(" ",e.name," ")}}function Qi(t,r){if(t&1){let e=P();m(0,"span",30),I("click",function(n){T(e);let o=a(2).$implicit,s=a();return b(s.handlePreview(o,n))}),j(1),f()}if(t&2){let e=a(2).$implicit;F("title",e.name),p(),q(" ",e.name," ")}}function Xi(t,r){}function Yi(t,r){if(t&1&&d(0,qi,2,4,"a",27)(1,Qi,2,2,"span",28)(2,Xi,0,0,"ng-template",10),t&2){let e=a().$implicit,i=x(11);_(e.url?0:1),p(2),c("ngTemplateOutlet",i)}}function Ki(t,r){}function Ji(t,r){}function en(t,r){if(t&1){let e=P();m(0,"a",32),I("click",function(n){T(e);let o=a(2).$implicit,s=a();return b(s.handlePreview(o,n))}),z(1,"span",33),f()}if(t&2){let e=a(2).$implicit,i=a();c("href",e.url||e.thumbUrl,te)("ngStyle",e.url||e.thumbUrl?null:Oe(3,Ci)),F("title",i.locale.previewFile)}}function tn(t,r){}function nn(t,r){if(t&1&&d(0,tn,0,0,"ng-template",10),t&2){a(2);let e=x(9);c("ngTemplateOutlet",e)}}function on(t,r){}function rn(t,r){if(t&1&&(m(0,"span",11),d(1,en,2,4,"a",31)(2,nn,1,1,null,10)(3,on,0,0,"ng-template",10),f()),t&2){let e=a().$implicit,i=x(7),n=a();p(),_(n.icons.showPreviewIcon?1:-1),p(),_(e.status==="done"?2:-1),p(),c("ngTemplateOutlet",i)}}function sn(t,r){if(t&1&&(m(0,"div",12),z(1,"nz-progress",34),f()),t&2){let e=a().$implicit;p(),c("nzPercent",e.percent)("nzShowInfo",!1)("nzStrokeWidth",2)}}function an(t,r){if(t&1&&(m(0,"div")(1,"div",7),d(2,Fi,3,1,"ng-template",null,0,U)(4,Mi,2,1,"ng-template",null,1,U)(6,Ai,1,1,"ng-template",null,2,U)(8,Wi,1,1,"ng-template",null,3,U)(10,Zi,1,1,"ng-template",null,4,U)(12,Yi,3,2,"ng-template",null,5,U),m(14,"div",8)(15,"span",9),d(16,Ki,0,0,"ng-template",10)(17,Ji,0,0,"ng-template",10),f()(),d(18,rn,4,3,"span",11)(19,sn,2,3,"div",12),f()()),t&2){let e=r.$implicit,i=x(3),n=x(13),o=a();Ee("ant-upload-list-",o.listType,"-container"),p(),qe("ant-upload-list-item ant-upload-list-item-",e.status," ant-upload-list-item-list-type-",o.listType,""),c("@itemState",void 0)("nzTooltipTitle",e.status==="error"?e.message:null),F("data-key",e.key),p(15),c("ngTemplateOutlet",i),p(),c("ngTemplateOutlet",n),p(),_(o.listType==="picture-card"&&!e.isUploading?18:-1),p(),_(e.isUploading?19:-1)}}var ln=["uploadComp"],pn=["listComp"],cn=()=>[];function dn(t,r){if(t&1&&z(0,"nz-upload-list",6,3),t&2){let e=a(2);L("display",e.nzShowUploadList?"":"none"),c("locale",e.locale)("listType",e.nzListType)("items",e.nzFileList||Oe(13,cn))("icons",e.nzShowUploadList)("iconRender",e.nzIconRender)("previewFile",e.nzPreviewFile)("previewIsImage",e.nzPreviewIsImage)("onPreview",e.nzPreview)("onRemove",e.onRemove)("onDownload",e.nzDownload)("dir",e.dir)}}function mn(t,r){t&1&&Ye(0)}function hn(t,r){if(t&1&&d(0,mn,1,0,"ng-container",7),t&2){let e=a(2);c("ngTemplateOutlet",e.nzFileListRender)("ngTemplateOutletContext",Q(2,we,e.nzFileList))}}function un(t,r){if(t&1&&d(0,dn,2,14,"nz-upload-list",5)(1,hn,1,4,"ng-container"),t&2){let e=a();_(e.locale&&!e.nzFileListRender?0:-1),p(),_(e.nzFileListRender?1:-1)}}function fn(t,r){t&1&&ye(0)}function _n(t,r){}function gn(t,r){if(t&1&&(m(0,"div",8)(1,"div",9,4),d(3,_n,0,0,"ng-template",10),f()()),t&2){let e=a(),i=x(3);L("display",e.nzShowButton?"":"none"),c("ngClass",e.classList),p(),c("options",e._btnOptions),p(2),c("ngTemplateOutlet",i)}}function zn(t,r){}function Cn(t,r){}function yn(t,r){if(t&1){let e=P();m(0,"div",11),I("drop",function(n){T(e);let o=a();return b(o.fileDrop(n))})("dragover",function(n){T(e);let o=a();return b(o.fileDrop(n))})("dragleave",function(n){T(e);let o=a();return b(o.fileDrop(n))}),m(1,"div",12,4)(3,"div",13),d(4,zn,0,0,"ng-template",10),f()()(),d(5,Cn,0,0,"ng-template",10)}if(t&2){let e=a(),i=x(1),n=x(3);c("ngClass",e.classList),p(),c("options",e._btnOptions),p(3),c("ngTemplateOutlet",n),p(),c("ngTemplateOutlet",i)}}function vn(t,r){}function xn(t,r){}function wn(t,r){if(t&1&&d(0,vn,0,0,"ng-template",10)(1,xn,0,0,"ng-template",10),t&2){a(2);let e=x(1),i=x(5);c("ngTemplateOutlet",e),p(),c("ngTemplateOutlet",i)}}function Sn(t,r){}function Tn(t,r){}function bn(t,r){if(t&1&&d(0,Sn,0,0,"ng-template",10)(1,Tn,0,0,"ng-template",10),t&2){a(2);let e=x(1),i=x(5);c("ngTemplateOutlet",i),p(),c("ngTemplateOutlet",e)}}function In(t,r){if(t&1&&d(0,wn,2,2)(1,bn,2,2),t&2){let e=a();_(e.nzListType==="picture-card"?0:1)}}var Fn=(()=>{class t{onClick(){this.options.disabled||!this.options.openFileDialogOnClick||this.file.nativeElement.click()}onFileDrop(e){if(this.options.disabled||e.type==="dragover"){e.preventDefault();return}if(this.options.directory)this.traverseFileTree(e.dataTransfer.items);else{let i=Array.prototype.slice.call(e.dataTransfer.files).filter(n=>this.attrAccept(n,this.options.accept));i.length&&this.uploadFiles(i)}e.preventDefault()}onChange(e){if(this.options.disabled)return;let i=e.target;this.uploadFiles(i.files),i.value=""}traverseFileTree(e){let i=(n,o)=>{n.isFile?n.file(s=>{this.attrAccept(s,this.options.accept)&&this.uploadFiles([s])}):n.isDirectory&&n.createReader().readEntries(l=>{for(let u of l)i(u,`${o}${n.name}/`)})};for(let n of e)i(n.webkitGetAsEntry(),"")}attrAccept(e,i){if(e&&i){let n=Array.isArray(i)?i:i.split(","),o=`${e.name}`,s=`${e.type}`,l=s.replace(/\/.*$/,"");return n.some(u=>{let h=u.trim();return h.charAt(0)==="."?o.toLowerCase().indexOf(h.toLowerCase(),o.toLowerCase().length-h.toLowerCase().length)!==-1:/\/\*$/.test(h)?l===h.replace(/\/.*$/,""):s===h})}return!0}attachUid(e){return e.uid||(e.uid=Math.random().toString(36).substring(2)),e}uploadFiles(e){let i=J(Array.prototype.slice.call(e));this.options.filters&&this.options.filters.forEach(n=>{i=i.pipe(B(o=>{let s=n.fn(o);return s instanceof G?s:J(s)}))}),i.subscribe(n=>{n.forEach(o=>{this.attachUid(o),this.upload(o,n)})},n=>{ke("Unhandled upload filter error",n)})}upload(e,i){if(!this.options.beforeUpload)return this.post(e);let n=this.options.beforeUpload(e,i);if(n instanceof G)n.subscribe(o=>{let s=Object.prototype.toString.call(o);s==="[object File]"||s==="[object Blob]"?(this.attachUid(o),this.post(o)):typeof o=="boolean"&&o!==!1&&this.post(e)},o=>{ke("Unhandled upload beforeUpload error",o)});else if(n!==!1)return this.post(e)}post(e){if(this.destroy)return;let i=J(e),n,o=this.options,{uid:s}=e,{action:l,data:u,headers:h,transformFile:y}=o,v={action:typeof l=="string"?l:"",name:o.name,headers:h,file:e,postFile:e,data:u,withCredentials:o.withCredentials,onProgress:o.onProgress?g=>{o.onProgress(g,e)}:void 0,onSuccess:(g,S)=>{this.clean(s),o.onSuccess(g,e,S)},onError:g=>{this.clean(s),o.onError(g,e)}};if(typeof l=="function"){let g=l(e);g instanceof G?i=i.pipe(B(()=>g),fe(S=>(v.action=S,e))):v.action=g}if(typeof y=="function"){let g=y(e);i=i.pipe(B(()=>g instanceof G?g:J(g)),Ge(S=>n=S))}if(typeof u=="function"){let g=u(e);g instanceof G?i=i.pipe(B(()=>g),fe(S=>(v.data=S,n??e))):v.data=g}if(typeof h=="function"){let g=h(e);g instanceof G?i=i.pipe(B(()=>g),fe(S=>(v.headers=S,n??e))):v.headers=g}i.subscribe(g=>{v.postFile=g;let S=(o.customRequest||this.xhr).call(this,v);S instanceof Ue||ke("Must return Subscription type in '[nzCustomRequest]' property"),this.reqs[s]=S,o.onStart(e)})}xhr(e){let i=new FormData;e.data&&Object.keys(e.data).map(o=>{i.append(o,e.data[o])}),i.append(e.name,e.postFile),e.headers||(e.headers={}),e.headers["X-Requested-With"]!==null?e.headers["X-Requested-With"]="XMLHttpRequest":delete e.headers["X-Requested-With"];let n=new rt("POST",e.action,i,{reportProgress:!0,withCredentials:e.withCredentials,headers:new ot(e.headers)});return this.http.request(n).subscribe(o=>{o.type===st.UploadProgress?(o.total>0&&(o.percent=o.loaded/o.total*100),e.onProgress(o,e.file)):o instanceof at&&e.onSuccess(o.body,e.file,o)},o=>{this.abort(e.file),e.onError(o,e.file)})}clean(e){let i=this.reqs[e];i instanceof Ue&&i.unsubscribe(),delete this.reqs[e]}abort(e){e?this.clean(e&&e.uid):Object.keys(this.reqs).forEach(i=>this.clean(i))}constructor(e,i){if(this.ngZone=e,this.elementRef=i,this.reqs={},this.destroy=!1,this.destroy$=new O,this.http=Z(lt,{optional:!0}),!this.http)throw new Error("Not found 'HttpClient', You can configure 'HttpClient' with 'provideHttpClient()' in your root module.")}ngOnInit(){this.ngZone.runOutsideAngular(()=>{M(this.elementRef.nativeElement,"click").pipe(w(this.destroy$)).subscribe(()=>this.onClick()),M(this.elementRef.nativeElement,"keydown").pipe(w(this.destroy$)).subscribe(e=>{this.options.disabled||(e.key==="Enter"||e.keyCode===13)&&this.onClick()})})}ngOnDestroy(){this.destroy=!0,this.destroy$.next(),this.abort()}static{this.\u0275fac=function(i){return new(i||t)(C(pe),C(be))}}static{this.\u0275cmp=$({type:t,selectors:[["","nz-upload-btn",""]],viewQuery:function(i,n){if(i&1&&ie(gi,7),i&2){let o;ne(o=oe())&&(n.file=o.first)}},hostAttrs:[1,"ant-upload"],hostVars:4,hostBindings:function(i,n){i&1&&I("drop",function(s){return n.onFileDrop(s)})("dragover",function(s){return n.onFileDrop(s)}),i&2&&(F("tabindex","0")("role","button"),k("ant-upload-disabled",n.options.disabled))},inputs:{options:"options"},exportAs:["nzUploadBtn"],standalone:!0,features:[R],attrs:zi,ngContentSelectors:Ut,decls:3,vars:6,consts:[["file",""],["type","file",3,"change","multiple"]],template:function(i,n){if(i&1){let o=P();Ce(),m(0,"input",1,0),I("change",function(l){return T(o),b(n.onChange(l))}),f(),ye(2)}i&2&&(L("display","none"),c("multiple",n.options.multiple),F("accept",n.options.accept)("directory",n.options.directory?"directory":null)("webkitdirectory",n.options.directory?"webkitdirectory":null))},encapsulation:2})}}return t})(),Lt=t=>!!t&&t.indexOf("image/")===0,K=200,Et=(()=>{class t{get showPic(){return this.listType==="picture"||this.listType==="picture-card"}set items(e){this.list=e}genErr(e){return e.response&&typeof e.response=="string"?e.response:e.error&&e.error.statusText||this.locale.uploadError}extname(e){let i=e.split("/"),o=i[i.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(o)||[""])[0]}isImageUrl(e){if(Lt(e.type))return!0;let i=e.thumbUrl||e.url||"";if(!i)return!1;let n=this.extname(i);return/^data:image\//.test(i)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(n)?!0:/^data:/.test(i)?!1:!n}getIconType(e){return this.showPic?e.isUploading||!e.thumbUrl&&!e.url?"uploading":"thumbnail":""}previewImage(e){if(!Lt(e.type)||!this.platform.isBrowser)return J("");let i=this.document.createElement("canvas");i.width=K,i.height=K,i.style.cssText=`position: fixed; left: 0; top: 0; width: ${K}px; height: ${K}px; z-index: 9999; display: none;`,this.document.body.appendChild(i);let n=i.getContext("2d"),o=new Image,s=URL.createObjectURL(e);return o.src=s,M(o,"load").pipe(fe(()=>{let{width:l,height:u}=o,h=K,y=K,v=0,g=0;l<u?(y=u*(K/l),g=-(y-h)/2):(h=l*(K/u),v=-(h-y)/2);try{n.drawImage(o,v,g,h,y)}catch{}let S=i.toDataURL();return this.document.body.removeChild(i),URL.revokeObjectURL(s),S}))}genThumb(){if(!this.platform.isBrowser)return;let e=window;!this.showPic||typeof document>"u"||typeof e>"u"||!e.FileReader||!e.File||this.list.filter(i=>i.originFileObj instanceof File&&i.thumbUrl===void 0).forEach(i=>{i.thumbUrl="";let n=(this.previewFile?this.previewFile(i):this.previewImage(i.originFileObj)).pipe(w(this.destroy$));this.ngZone.runOutsideAngular(()=>{n.subscribe(o=>{this.ngZone.run(()=>{i.thumbUrl=o,this.detectChanges()})})})})}showDownload(e){return!!(this.icons.showDownloadIcon&&e.status==="done")}fixData(){this.list.forEach(e=>{e.isUploading=e.status==="uploading",e.message=this.genErr(e),e.linkProps=typeof e.linkProps=="string"?JSON.parse(e.linkProps):e.linkProps,e.isImageUrl=this.previewIsImage?this.previewIsImage(e):this.isImageUrl(e),e.iconType=this.getIconType(e),e.showDownload=this.showDownload(e)})}handlePreview(e,i){if(this.onPreview)return i.preventDefault(),this.onPreview(e)}handleRemove(e,i){i.preventDefault(),this.onRemove&&this.onRemove(e)}handleDownload(e){typeof this.onDownload=="function"?this.onDownload(e):e.url&&window.open(e.url)}constructor(e,i,n){this.cdr=e,this.ngZone=i,this.platform=n,this.list=[],this.locale={},this.iconRender=null,this.dir="ltr",this.document=Z(ve),this.destroy$=new O}detectChanges(){this.fixData(),this.cdr.detectChanges()}ngOnChanges(){this.fixData(),this.genThumb()}ngOnDestroy(){this.destroy$.next()}static{this.\u0275fac=function(i){return new(i||t)(C(X),C(pe),C(Pe))}}static{this.\u0275cmp=$({type:t,selectors:[["nz-upload-list"]],hostAttrs:[1,"ant-upload-list"],hostVars:8,hostBindings:function(i,n){i&2&&k("ant-upload-list-rtl",n.dir==="rtl")("ant-upload-list-text",n.listType==="text")("ant-upload-list-picture",n.listType==="picture")("ant-upload-list-picture-card",n.listType==="picture-card")},inputs:{locale:"locale",listType:"listType",items:"items",icons:"icons",onPreview:"onPreview",onRemove:"onRemove",onDownload:"onDownload",previewFile:"previewFile",previewIsImage:"previewIsImage",iconRender:"iconRender",dir:"dir"},exportAs:["nzUploadList"],standalone:!0,features:[ee,R],decls:2,vars:0,consts:[["icon",""],["iconNode",""],["removeIcon",""],["downloadIcon",""],["downloadOrDelete",""],["preview",""],[3,"class"],["nz-tooltip","",3,"nzTooltipTitle"],[1,"ant-upload-list-item-info"],[1,"ant-upload-span"],[3,"ngTemplateOutlet"],[1,"ant-upload-list-item-actions"],[1,"ant-upload-list-item-progress"],[1,"ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"ant-upload-list-item-file","href"],[1,"ant-upload-text-icon"],[1,"ant-upload-list-item-thumbnail"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-thumbnail",3,"click","href"],[1,"ant-upload-list-item-image",3,"src"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","loading"],["nz-icon","","nzTheme","twotone",3,"nzType"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn"],["type","button","nz-button","","nzType","text","nzSize","small",1,"ant-upload-list-item-card-actions-btn",3,"click"],["nz-icon","","nzType","delete"],["nz-icon","","nzType","download"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"href"],[1,"ant-upload-list-item-name"],["target","_blank","rel","noopener noreferrer",1,"ant-upload-list-item-name",3,"click","href"],[1,"ant-upload-list-item-name",3,"click"],["target","_blank","rel","noopener noreferrer",3,"href","ngStyle"],["target","_blank","rel","noopener noreferrer",3,"click","href","ngStyle"],["nz-icon","","nzType","eye"],["nzType","line",3,"nzPercent","nzShowInfo","nzStrokeWidth"]],template:function(i,n){i&1&&V(0,an,20,14,"div",6,A),i&2&&W(n.list)},dependencies:[Tt,St,xe,ue,he,wt,xt,vt,Fe,Dt,je],encapsulation:2,data:{animation:[mt("itemState",[Re(":enter",[De({height:"0",width:"0",opacity:0}),$e(150,De({height:"*",width:"*",opacity:1}))]),Re(":leave",[$e(150,De({height:"0",width:"0",opacity:0}))])])]},changeDetection:0})}}return t})(),kn=(()=>{class t{set nzShowUploadList(e){this._showUploadList=typeof e=="boolean"?ct(e):e}get nzShowUploadList(){return this._showUploadList}zipOptions(){typeof this.nzShowUploadList=="boolean"&&this.nzShowUploadList&&(this.nzShowUploadList={showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!0});let e=this.nzFilter.slice();if(this.nzMultiple&&this.nzLimit>0&&e.findIndex(i=>i.name==="limit")===-1&&e.push({name:"limit",fn:i=>i.slice(-this.nzLimit)}),this.nzSize>0&&e.findIndex(i=>i.name==="size")===-1&&e.push({name:"size",fn:i=>i.filter(n=>n.size/1024<=this.nzSize)}),this.nzFileType&&this.nzFileType.length>0&&e.findIndex(i=>i.name==="type")===-1){let i=this.nzFileType.split(",");e.push({name:"type",fn:n=>n.filter(o=>~i.indexOf(o.type))})}return this._btnOptions={disabled:this.nzDisabled,accept:this.nzAccept,action:this.nzAction,directory:this.nzDirectory,openFileDialogOnClick:this.nzOpenFileDialogOnClick,beforeUpload:this.nzBeforeUpload,customRequest:this.nzCustomRequest,data:this.nzData,headers:this.nzHeaders,name:this.nzName,multiple:this.nzMultiple,withCredentials:this.nzWithCredentials,filters:e,transformFile:this.nzTransformFile,onStart:this.onStart,onProgress:this.onProgress,onSuccess:this.onSuccess,onError:this.onError},this}constructor(e,i,n,o){this.ngZone=e,this.cdr=i,this.i18n=n,this.directionality=o,this.destroy$=new O,this.dir="ltr",this.nzType="select",this.nzLimit=0,this.nzSize=0,this.nzDirectory=!1,this.nzOpenFileDialogOnClick=!0,this.nzFilter=[],this.nzFileList=[],this.nzDisabled=!1,this.nzListType="text",this.nzMultiple=!1,this.nzName="file",this._showUploadList=!0,this.document=Z(ve),this.nzShowButton=!0,this.nzWithCredentials=!1,this.nzIconRender=null,this.nzFileListRender=null,this.nzChange=new le,this.nzFileListChange=new le,this.platform=Z(Pe),this.onStart=s=>{this.nzFileList||(this.nzFileList=[]);let l=this.fileToObject(s);l.status="uploading",this.nzFileList=this.nzFileList.concat(l),this.nzFileListChange.emit(this.nzFileList),this.nzChange.emit({file:l,fileList:this.nzFileList,type:"start"}),this.detectChangesList()},this.onProgress=(s,l)=>{let u=this.nzFileList,h=this.getFileItem(l,u);h.percent=s.percent,this.nzChange.emit({event:s,file:E({},h),fileList:this.nzFileList,type:"progress"}),this.detectChangesList()},this.onSuccess=(s,l)=>{let u=this.nzFileList,h=this.getFileItem(l,u);h.status="done",h.response=s,this.nzChange.emit({file:E({},h),fileList:u,type:"success"}),this.detectChangesList()},this.onError=(s,l)=>{let u=this.nzFileList,h=this.getFileItem(l,u);h.error=s,h.status="error",this.nzChange.emit({file:E({},h),fileList:u,type:"error"}),this.detectChangesList()},this.onRemove=s=>{this.uploadComp.abort(s),s.status="removed";let l=typeof this.nzRemove=="function"?this.nzRemove(s):this.nzRemove==null?!0:this.nzRemove;(l instanceof G?l:J(l)).pipe(_e(u=>u)).subscribe(()=>{this.nzFileList=this.removeFileItem(s,this.nzFileList),this.nzChange.emit({file:s,fileList:this.nzFileList,type:"removed"}),this.nzFileListChange.emit(this.nzFileList),this.cdr.detectChanges()})},this.prefixCls="ant-upload",this.classList=[]}fileToObject(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid,response:e.response,error:e.error,percent:0,originFileObj:e}}getFileItem(e,i){return i.filter(n=>n.uid===e.uid)[0]}removeFileItem(e,i){return i.filter(n=>n.uid!==e.uid)}fileDrop(e){e.type!==this.dragState&&(this.dragState=e.type,this.setClassMap())}detectChangesList(){this.cdr.detectChanges(),this.listComp?.detectChanges()}setClassMap(){let e=[];this.nzType==="drag"?(this.nzFileList.some(i=>i.status==="uploading")&&e.push(`${this.prefixCls}-drag-uploading`),this.dragState==="dragover"&&e.push(`${this.prefixCls}-drag-hover`)):e=[`${this.prefixCls}-select-${this.nzListType}`],this.classList=[this.prefixCls,`${this.prefixCls}-${this.nzType}`,...e,this.nzDisabled&&`${this.prefixCls}-disabled`||"",this.dir==="rtl"&&`${this.prefixCls}-rtl`||""].filter(i=>!!i),this.cdr.detectChanges()}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(w(this.destroy$)).subscribe(e=>{this.dir=e,this.setClassMap(),this.cdr.detectChanges()}),this.i18n.localeChange.pipe(w(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Upload"),this.detectChangesList()})}ngAfterViewInit(){this.platform.FIREFOX&&this.ngZone.runOutsideAngular(()=>M(this.document.body,"drop").pipe(w(this.destroy$)).subscribe(e=>{e.preventDefault(),e.stopPropagation()}))}ngOnChanges(){this.zipOptions().setClassMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||t)(C(pe),C(X),C(dt),C(re))}}static{this.\u0275cmp=$({type:t,selectors:[["nz-upload"]],viewQuery:function(i,n){if(i&1&&(ie(ln,5),ie(pn,5)),i&2){let o;ne(o=oe())&&(n.uploadComp=o.first),ne(o=oe())&&(n.listComp=o.first)}},hostVars:2,hostBindings:function(i,n){i&2&&k("ant-upload-picture-card-wrapper",n.nzListType==="picture-card")},inputs:{nzType:"nzType",nzLimit:[2,"nzLimit","nzLimit",de],nzSize:[2,"nzSize","nzSize",de],nzFileType:"nzFileType",nzAccept:"nzAccept",nzAction:"nzAction",nzDirectory:[2,"nzDirectory","nzDirectory",H],nzOpenFileDialogOnClick:[2,"nzOpenFileDialogOnClick","nzOpenFileDialogOnClick",H],nzBeforeUpload:"nzBeforeUpload",nzCustomRequest:"nzCustomRequest",nzData:"nzData",nzFilter:"nzFilter",nzFileList:"nzFileList",nzDisabled:[2,"nzDisabled","nzDisabled",H],nzHeaders:"nzHeaders",nzListType:"nzListType",nzMultiple:[2,"nzMultiple","nzMultiple",H],nzName:"nzName",nzShowUploadList:"nzShowUploadList",nzShowButton:[2,"nzShowButton","nzShowButton",H],nzWithCredentials:[2,"nzWithCredentials","nzWithCredentials",H],nzRemove:"nzRemove",nzPreview:"nzPreview",nzPreviewFile:"nzPreviewFile",nzPreviewIsImage:"nzPreviewIsImage",nzTransformFile:"nzTransformFile",nzDownload:"nzDownload",nzIconRender:"nzIconRender",nzFileListRender:"nzFileListRender"},outputs:{nzChange:"nzChange",nzFileListChange:"nzFileListChange"},exportAs:["nzUpload"],standalone:!0,features:[ce,ee,R],ngContentSelectors:Ut,decls:8,vars:1,consts:[["list",""],["con",""],["btn",""],["listComp",""],["uploadComp",""],[3,"display","locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],[3,"locale","listType","items","icons","iconRender","previewFile","previewIsImage","onPreview","onRemove","onDownload","dir"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["nz-upload-btn","",3,"options"],[3,"ngTemplateOutlet"],[3,"drop","dragover","dragleave","ngClass"],["nz-upload-btn","",1,"ant-upload-btn",3,"options"],[1,"ant-upload-drag-container"]],template:function(i,n){i&1&&(Ce(),d(0,un,2,2,"ng-template",null,0,U)(2,fn,1,0,"ng-template",null,1,U)(4,gn,4,5,"ng-template",null,2,U)(6,yn,6,4)(7,In,2,1)),i&2&&(p(6),_(n.nzType==="drag"?6:7))},dependencies:[Et,xe,Ie,Fn],encapsulation:2,changeDetection:0})}}return t})(),Eo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=se({imports:[kn,Et]})}}return t})();function Nn(t,r){if(t&1&&(m(0,"li"),j(1),f()),t&2){let e=r.$implicit;p(),q(" ",e," ")}}var jo=(()=>{class t{constructor(){this.backendErrors={},this.errorMessages=[]}ngOnInit(){this.errorMessages=Object.keys(this.backendErrors).map(e=>`${this.backendErrors[e].join(" ")}`)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["app-backend-error-messages"]],inputs:{backendErrors:"backendErrors"},standalone:!0,features:[R],decls:2,vars:1,consts:[[1,"error-messages"],[4,"ngFor","ngForOf"]],template:function(i,n){i&1&&(m(0,"ul",0),d(1,Nn,2,1,"li",1),f()),i&2&&(p(),c("ngForOf",n.errorMessages))},dependencies:[nt,it],encapsulation:2})}}return t})();var Pn=["*"],Dn=["imgRef"],Ln=["imagePreviewWrapper"];function Un(t,r){if(t&1){let e=P();m(0,"div",13),I("click",function(n){T(e);let o=a();return b(o.onSwitchLeft(n))}),z(1,"span",14),f(),m(2,"div",15),I("click",function(n){T(e);let o=a();return b(o.onSwitchRight(n))}),z(3,"span",16),f()}if(t&2){let e=a();k("ant-image-preview-switch-left-disabled",e.index<=0),p(2),k("ant-image-preview-switch-right-disabled",e.index>=e.images.length-1)}}function En(t,r){if(t&1&&(m(0,"li",5),j(1),f()),t&2){let e=a();p(),et("",e.index+1," / ",e.images.length,"")}}function On(t,r){if(t&1){let e=P();m(0,"li",17),I("click",function(){let n=T(e).$implicit;return b(n.onClick())}),z(1,"span",18),f()}if(t&2){let e,i=r.$implicit,n=a();k("ant-image-preview-operations-operation-disabled",n.zoomOutDisabled&&i.type==="zoomOut"),p(),c("nzType",i.icon)("nzRotate",(e=i.rotate)!==null&&e!==void 0?e:0)}}function $n(t,r){if(t&1&&z(0,"img",20,1),t&2){let e=a().$implicit,i=a();L("width",e.width)("height",e.height)("transform",i.previewImageTransform),F("src",i.sanitizerResourceUrl(e.src),te)("srcset",e.srcset)("alt",e.alt)}}function Rn(t,r){if(t&1&&d(0,$n,2,9,"img",19),t&2){let e=r.$index,i=a();_(e===i.index?0:-1)}}var Mn=(()=>{class t{constructor(){this.nzScaleStep=null,this.images=[]}addImage(e){this.images.push(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=$({type:t,selectors:[["nz-image-group"]],inputs:{nzScaleStep:"nzScaleStep"},exportAs:["nzImageGroup"],standalone:!0,features:[R],ngContentSelectors:Pn,decls:1,vars:0,template:function(i,n){i&1&&(Ce(),ye(0))},encapsulation:2,changeDetection:0})}}return t})();var At="image";function jn(t){let r={};return t.width<=t.clientWidth&&t.height<=t.clientHeight&&(r={x:0,y:0}),(t.width>t.clientWidth||t.height>t.clientHeight)&&(r={x:Mt(t.left,t.width,t.clientWidth),y:Mt(t.top,t.height,t.clientHeight)}),r}function An(t){let r=t.getBoundingClientRect(),e=document.documentElement;return{left:r.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||document.body.clientLeft||0),top:r.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||document.body.clientTop||0)}}function Vn(){let t=document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:r}}function Mt(t,r,e){let i=t+r,n=(r-e)/2,o=null;return r>e?(t>0&&(o=n),t<0&&i<e&&(o=-n)):(t<0||i>e)&&(o=t<0?n:-n),o}var Se=class{constructor(){this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzMaskClosable=!0,this.nzCloseOnNavigation=!0}},jt={x:0,y:0},Ae=.5,Wn=1,Hn=0,Vt=(()=>{class t{get animationDisabled(){return this.config.nzNoAnimation??!1}get maskClosable(){let e=this.nzConfigService.getConfigForComponent(At)||{};return this.config.nzMaskClosable??e.nzMaskClosable??!0}constructor(e,i,n,o,s,l){this.ngZone=e,this.cdr=i,this.nzConfigService=n,this.config=o,this.destroy$=s,this.sanitizer=l,this._defaultNzZoom=Wn,this._defaultNzScaleStep=Ae,this._defaultNzRotate=Hn,this.images=[],this.index=0,this.isDragging=!1,this.visible=!0,this.animationStateChanged=new le,this.scaleStepMap=new Map,this.previewImageTransform="",this.previewImageWrapperTransform="",this.operations=[{icon:"close",onClick:()=>{this.onClose()},type:"close"},{icon:"zoom-in",onClick:()=>{this.onZoomIn()},type:"zoomIn"},{icon:"zoom-out",onClick:()=>{this.onZoomOut()},type:"zoomOut"},{icon:"rotate-right",onClick:()=>{this.onRotateRight()},type:"rotateRight"},{icon:"rotate-left",onClick:()=>{this.onRotateLeft()},type:"rotateLeft"},{icon:"swap",onClick:()=>{this.onHorizontalFlip()},type:"flipHorizontally"},{icon:"swap",onClick:()=>{this.onVerticalFlip()},type:"flipVertically",rotate:90}],this.zoomOutDisabled=!1,this.position=E({},jt),this.closeClick=new le,this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=this.config.nzFlipHorizontally??!1,this.flipVertically=this.config.nzFlipVertically??!1,this.updateZoomOutDisabled(),this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform()}ngOnInit(){this.ngZone.runOutsideAngular(()=>{M(this.imagePreviewWrapper.nativeElement,"mousedown").pipe(w(this.destroy$)).subscribe(()=>{this.isDragging=!0}),M(this.imagePreviewWrapper.nativeElement,"wheel").pipe(w(this.destroy$)).subscribe(e=>{this.ngZone.run(()=>this.wheelZoomEventHandler(e))})})}setImages(e,i){i&&(this.scaleStepMap=i),this.images=e,this.markForCheck()}switchTo(e){this.index=e,this.markForCheck()}next(){this.index<this.images.length-1&&(this.reset(),this.index++,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}prev(){this.index>0&&(this.reset(),this.index--,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.markForCheck())}markForCheck(){this.cdr.markForCheck()}onClose(){this.visible=!1,this.closeClick.emit()}onZoomIn(){let e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom+=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled()}onZoomOut(){if(this.zoom>1){let e=this.scaleStepMap.get(this.images[this.index].src??this.images[this.index].srcset)??this.scaleStep;this.zoom-=e,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.zoom<=1&&this.reCenterImage()}}onRotateRight(){this.rotate+=90,this.updatePreviewImageTransform()}onRotateLeft(){this.rotate-=90,this.updatePreviewImageTransform()}onSwitchLeft(e){e.preventDefault(),e.stopPropagation(),this.prev()}onSwitchRight(e){e.preventDefault(),e.stopPropagation(),this.next()}onHorizontalFlip(){this.flipHorizontally=!this.flipHorizontally,this.updatePreviewImageTransform()}onVerticalFlip(){this.flipVertically=!this.flipVertically,this.updatePreviewImageTransform()}wheelZoomEventHandler(e){e.preventDefault(),e.stopPropagation(),this.handlerImageTransformationWhileZoomingWithMouse(e,e.deltaY),this.handleImageScaleWhileZoomingWithMouse(e.deltaY),this.updatePreviewImageWrapperTransform(),this.updatePreviewImageTransform(),this.markForCheck()}onAnimationStart(e){this.animationStateChanged.emit(e)}onAnimationDone(e){this.animationStateChanged.emit(e)}onDragEnd(e){this.isDragging=!1;let i=this.imageRef.nativeElement.offsetWidth*this.zoom,n=this.imageRef.nativeElement.offsetHeight*this.zoom,{left:o,top:s}=An(this.imageRef.nativeElement),{width:l,height:u}=Vn(),h=this.rotate%180!==0,v=jn({width:h?n:i,height:h?i:n,left:o,top:s,clientWidth:l,clientHeight:u});Y(v.x)||Y(v.y)?this.position=E(E({},this.position),v):!Y(v.x)&&!Y(v.y)&&(this.position={x:e.source.getFreeDragPosition().x,y:e.source.getFreeDragPosition().y})}sanitizerResourceUrl(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}updatePreviewImageTransform(){this.previewImageTransform=`scale3d(${this.zoom*(this.flipHorizontally?-1:1)}, ${this.zoom*(this.flipVertically?-1:1)}, 1) rotate(${this.rotate}deg)`}updatePreviewImageWrapperTransform(){this.previewImageWrapperTransform=`translate3d(${this.position.x}px, ${this.position.y}px, 0)`}updateZoomOutDisabled(){this.zoomOutDisabled=this.zoom<=1}handlerImageTransformationWhileZoomingWithMouse(e,i){let n,o=this.imageRef.nativeElement,l=getComputedStyle(o).transform.match(/matrix.*\((.+)\)/);l?n=+l[1].split(", ")[0]:n=this.zoom;let u=(e.clientX-o.getBoundingClientRect().x)/n,h=(e.clientY-o.getBoundingClientRect().y)/n,y=i<0?this.scaleStep/2:-this.scaleStep/2;this.position.x+=-u*y*2+o.offsetWidth*y,this.position.y+=-h*y*2+o.offsetHeight*y}handleImageScaleWhileZoomingWithMouse(e){this.isZoomedInWithMouseWheel(e)?this.onZoomIn():this.onZoomOut(),this.zoom<=1&&this.reCenterImage()}isZoomedInWithMouseWheel(e){return e<0}reset(){this.zoom=this.config.nzZoom??this._defaultNzZoom,this.scaleStep=this.config.nzScaleStep??this._defaultNzScaleStep,this.rotate=this.config.nzRotate??this._defaultNzRotate,this.flipHorizontally=!1,this.flipVertically=!1,this.reCenterImage()}reCenterImage(){this.position=E({},jt)}static{this.\u0275fac=function(i){return new(i||t)(C(pe),C(X),C(me),C(Se),C(Le),C(pt))}}static{this.\u0275cmp=$({type:t,selectors:[["nz-image-preview"]],viewQuery:function(i,n){if(i&1&&(ie(Dn,5),ie(Ln,7)),i&2){let o;ne(o=oe())&&(n.imageRef=o.first),ne(o=oe())&&(n.imagePreviewWrapper=o.first)}},hostAttrs:[1,"ant-image-preview-root"],hostVars:6,hostBindings:function(i,n){i&1&&Je("@fadeMotion.start",function(s){return n.onAnimationStart(s)})("@fadeMotion.done",function(s){return n.onAnimationDone(s)}),i&2&&(Ke("@.disabled",n.config.nzNoAnimation)("@fadeMotion",n.visible?"enter":"leave"),L("z-index",n.config.nzZIndex),k("ant-image-preview-moving",n.isDragging))},exportAs:["nzImagePreview"],standalone:!0,features:[tt([Le]),R],decls:17,vars:5,consts:[["imagePreviewWrapper",""],["imgRef",""],[1,"ant-image-preview-mask"],[1,"ant-image-preview-operations-wrapper"],[1,"ant-image-preview-operations"],[1,"ant-image-preview-operations-progress"],[1,"ant-image-preview-operations-operation",3,"ant-image-preview-operations-operation-disabled"],["tabindex","-1",1,"ant-image-preview-wrap",3,"click"],["role","dialog","aria-modal","true",1,"ant-image-preview"],["tabindex","0","aria-hidden","true",1,"ant-image-preview-focus-trap"],[1,"ant-image-preview-content"],[1,"ant-image-preview-body"],["cdkDrag","",1,"ant-image-preview-img-wrapper",3,"cdkDragEnded","cdkDragFreeDragPosition"],[1,"ant-image-preview-switch-left",3,"click"],["nz-icon","","nzType","left","nzTheme","outline"],[1,"ant-image-preview-switch-right",3,"click"],["nz-icon","","nzType","right","nzTheme","outline"],[1,"ant-image-preview-operations-operation",3,"click"],["nz-icon","","nzTheme","outline",1,"ant-image-preview-operations-icon",3,"nzType","nzRotate"],["cdkDragHandle","",1,"ant-image-preview-img",3,"width","height","transform"],["cdkDragHandle","",1,"ant-image-preview-img"]],template:function(i,n){if(i&1){let o=P();z(0,"div",2),m(1,"div",3),d(2,Un,4,4),m(3,"ul",4),d(4,En,2,2,"li",5),V(5,On,2,4,"li",6,A),f()(),m(7,"div",7),I("click",function(l){return T(o),b(n.maskClosable&&l.target===l.currentTarget&&n.onClose())}),m(8,"div",8),z(9,"div",9),m(10,"div",10)(11,"div",11)(12,"div",12,0),I("cdkDragEnded",function(l){return T(o),b(n.onDragEnd(l))}),V(14,Rn,1,1,null,null,A),f()()(),z(16,"div",9),f()()}i&2&&(p(2),_(n.images.length>1?2:-1),p(2),_(n.images.length>1?4:-1),p(),W(n.operations),p(7),L("transform",n.previewImageWrapperTransform),c("cdkDragFreeDragPosition",n.position),p(2),W(n.images))},dependencies:[ue,he,bt,It],encapsulation:2,data:{animation:[zt]},changeDetection:0})}}return t})(),Ve=class{constructor(r,e,i){this.previewInstance=r,this.config=e,this.overlayRef=i,this.destroy$=new O,i.keydownEvents().pipe(_e(n=>this.config.nzKeyboard&&(n.keyCode===27||n.keyCode===37||n.keyCode===39)&&!ut(n))).subscribe(n=>{n.preventDefault(),n.keyCode===27&&r.onClose(),n.keyCode===37&&this.prev(),n.keyCode===39&&this.next()}),i.detachments().subscribe(()=>{this.overlayRef.dispose()}),r.closeClick.pipe(He(1),B(()=>r.animationStateChanged),_e(n=>n.phaseName==="done"),w(this.destroy$)).subscribe(()=>{this.close()})}switchTo(r){this.previewInstance.switchTo(r)}next(){this.previewInstance.next()}prev(){this.previewInstance.prev()}close(){this.destroy$.next(),this.overlayRef.dispose()}},Wt=(()=>{class t{constructor(e,i,n,o){this.overlay=e,this.injector=i,this.nzConfigService=n,this.directionality=o}preview(e,i,n){return this.display(e,i,n)}display(e,i,n){let o=E(E({},new Se),i??{}),s=this.createOverlay(o),l=this.attachPreviewComponent(s,o);l.setImages(e,n);let u=new Ve(l,o,s);return l.previewRef=u,u}attachPreviewComponent(e,i){let n=Te.create({parent:this.injector,providers:[{provide:_t,useValue:e},{provide:Se,useValue:i}]}),o=new ht(Vt,null,n);return e.attach(o).instance}createOverlay(e){let i=this.nzConfigService.getConfigForComponent(At)||{},n=new ft({scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:e.nzCloseOnNavigation??i.nzCloseOnNavigation??!0,direction:e.nzDirection||i.nzDirection||this.directionality.value});return this.overlay.create(n)}static{this.\u0275fac=function(i){return new(i||t)(ge(gt),ge(Te),ge(me),ge(re))}}static{this.\u0275prov=Be({token:t,factory:t.\u0275fac})}}return t})(),Gn="image",hr=(()=>{class t{get previewable(){return!this.nzDisablePreview&&this.status!=="error"}constructor(e,i,n,o,s){this.nzConfigService=e,this.elementRef=i,this.nzImageService=n,this.cdr=o,this.directionality=s,this._nzModuleName=Gn,this.nzSrc="",this.nzSrcset="",this.nzDisablePreview=!1,this.nzFallback=null,this.nzPlaceholder=null,this.nzScaleStep=null,this.status="normal",this.backLoadDestroy$=new O,this.destroy$=new O,this.document=Z(ve),this.parentGroup=Z(Mn,{optional:!0})}ngOnInit(){this.backLoad(),this.parentGroup&&this.parentGroup.addImage(this),this.directionality&&(this.directionality.change?.pipe(w(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPreview(){if(this.previewable)if(this.parentGroup){let e=this.parentGroup.images.filter(l=>l.previewable),i=e.map(l=>({src:l.nzSrc,srcset:l.nzSrcset})),n=e.findIndex(l=>this===l),o=new Map;e.forEach(l=>{o.set(l.nzSrc??l.nzSrcset,l.nzScaleStep??this.parentGroup.nzScaleStep??this.nzScaleStep??Ae)}),this.nzImageService.preview(i,{nzDirection:this.dir},o).switchTo(n)}else{let e=[{src:this.nzSrc,srcset:this.nzSrcset}];this.nzImageService.preview(e,{nzDirection:this.dir,nzScaleStep:this.nzScaleStep??Ae})}}getElement(){return this.elementRef}ngOnChanges(e){let{nzSrc:i}=e;i&&(this.getElement().nativeElement.src=i.currentValue,this.backLoad())}backLoad(){this.backLoadImage=this.document.createElement("img"),this.backLoadImage.src=this.nzSrc,this.backLoadImage.srcset=this.nzSrcset,this.status="loading",this.backLoadDestroy$.next(),this.backLoadDestroy$.complete(),this.backLoadDestroy$=new O,this.backLoadImage.complete?(this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset):(this.nzPlaceholder?(this.getElement().nativeElement.src=this.nzPlaceholder,this.getElement().nativeElement.srcset=""):(this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset),M(this.backLoadImage,"load").pipe(w(this.backLoadDestroy$),w(this.destroy$)).subscribe(()=>{this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset}),M(this.backLoadImage,"error").pipe(w(this.backLoadDestroy$),w(this.destroy$)).subscribe(()=>{this.status="error",this.nzFallback&&(this.getElement().nativeElement.src=this.nzFallback,this.getElement().nativeElement.srcset="")}))}static{this.\u0275fac=function(i){return new(i||t)(C(me),C(be),C(Wt),C(X),C(re))}}static{this.\u0275dir=Ze({type:t,selectors:[["img","nz-image",""]],hostBindings:function(i,n){i&1&&I("click",function(){return n.onPreview()})},inputs:{nzSrc:"nzSrc",nzSrcset:"nzSrcset",nzDisablePreview:[2,"nzDisablePreview","nzDisablePreview",H],nzFallback:"nzFallback",nzPlaceholder:"nzPlaceholder",nzScaleStep:"nzScaleStep"},exportAs:["nzImage"],standalone:!0,features:[ce,ee]})}}return N([D()],t.prototype,"nzDisablePreview",void 0),N([D()],t.prototype,"nzFallback",void 0),N([D()],t.prototype,"nzPlaceholder",void 0),N([D()],t.prototype,"nzScaleStep",void 0),t})(),ur=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ae({type:t})}static{this.\u0275inj=se({providers:[Wt],imports:[Vt]})}}return t})();export{kn as a,Eo as b,jo as c,Wt as d,hr as e,ur as f};
