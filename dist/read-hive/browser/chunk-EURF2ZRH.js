import{Sb as e,e as n}from"./chunk-W7R43Y2J.js";import{la as p,qa as o,u as a}from"./chunk-SSCO7BOT.js";var g=(()=>{class i{constructor(t){this.http=t}getUser(t){return t.user}getCurrentUser(){let t=e.apiUrl+"/user";return this.http.get(t).pipe(a(this.getUser))}register(t){let r=e.apiUrl+"/users";return this.http.post(r,t).pipe(a(this.getUser))}login(t){let r=e.apiUrl+"/users/login";return this.http.post(r,t).pipe(a(this.getUser))}logout(){let t=e.apiUrl+"/user/logout";return this.http.post(t,[])}updateCurrentUser(t,r){let u=e.apiUrl+"/user-update",s=new FormData;return s.append("username",t.user.username),s.append("bio",t.user.bio),s.append("email",t.user.email),t.user.image&&s.append("image",t.user.image,r),this.http.post(u,s).pipe(a(this.getUser))}validateUsername(t){let r=e.apiUrl+"/user/validate-username";return this.http.get(r,{params:{username:t}})}validateEmail(t){let r=e.apiUrl+"/user/validate-email";return this.http.get(r,{params:{email:t}})}static{this.\u0275fac=function(r){return new(r||i)(o(n))}}static{this.\u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{g as a};
