import{a as ce,b as me,c as le,d as ue}from"./chunk-KBK4WJI4.js";import{a as Te}from"./chunk-QWTAYJDZ.js";import{k as ze,l as Ce}from"./chunk-RFFWDBJG.js";import{b as oe,c as ne}from"./chunk-VXXMYUI5.js";import{e as Se,f as Pe,h as ve,i as ye}from"./chunk-PENA6MT2.js";import{a as de,d as ge,e as he,f as _e}from"./chunk-KDUSOC5H.js";import{i as re,j as ae,k as pe,m as se}from"./chunk-OWTQ6K3K.js";import{c as ie}from"./chunk-VPV7UKSS.js";import{U as fe,d as X,h as Y,k as Z,q as ee}from"./chunk-GN2DYACI.js";import{Ka as te,fa as K,ga as Q,o as x,p as J}from"./chunk-KYAOKWVV.js";import{$b as j,Ac as W,Bc as G,Dc as $,G as O,Gb as m,Ia as f,J as D,Ja as d,Kb as r,Tb as z,Vb as C,Wb as S,Xb as a,Yb as p,Zb as g,_b as L,bc as w,da as F,dc as N,f as A,fc as b,jd as T,md as H,nc as V,oc as P,p as M,pb as n,pc as v,qb as c,qd as I,sc as q,tc as B,uc as R,v as E,wa as _,wc as y,xc as U,yc as k}from"./chunk-DZ3RKEIN.js";var Ne=()=>({rows:1});function be(e,s){if(e&1&&(a(0,"nz-auto-option"),g(1,"nz-skeleton",6),p()),e&2){let t=b();n(),r("nzLoading",t.searchingProfile)("nzActive",t.searchingProfile)("nzParagraph",U(3,Ne))}}function Ve(e,s){if(e&1){let t=w();a(0,"nz-auto-option",7),N("click",function(){f(t);let o=b();return d(o.onSelect())}),P(1),p()}if(e&2){let t=s.$implicit;r("nzValue",t.username),n(),v(t.username)}}function ke(e,s){e&1&&g(0,"span",8)}var Ie=(()=>{class e{constructor(t,i){this.searchService=t,this.router=i,this.searchSubject=new A,this.options=[],this.searchingProfile=!1,this.searchSubscription=this.searchSubject.pipe(D(300),F(o=>o.trim()?this.searchService.getUserProfile(o).pipe(O(()=>M([]))):M([]))).subscribe(o=>{this.options=o,this.searchingProfile=!1})}ngOnInit(){}onInput(t){let i=t.target.value;this.searchingProfile=!0,this.searchSubject.next(i)}onSelect(){this.inputValue&&this.router.navigate([`/profile/${this.inputValue}`],{queryParams:{tab:"posts"}})}ngOnDestroy(){this.searchSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)(c(Te),c(x))}}static{this.\u0275cmp=_({type:e,selectors:[["app-search-profile"]],standalone:!0,features:[y],decls:9,vars:4,consts:[["auto",""],["suffixIconSearch",""],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search user profile",3,"ngModelChange","input","keydown.enter","ngModel","nzAutocomplete"],[4,"ngIf"],[3,"nzValue"],[3,"nzLoading","nzActive","nzParagraph"],[3,"click","nzValue"],["nz-icon","","nzType","search"]],template:function(i,o){if(i&1){let l=w();a(0,"nz-input-group",2)(1,"input",3),R("ngModelChange",function(u){return f(l),B(o.inputValue,u)||(o.inputValue=u),d(u)}),N("input",function(u){return f(l),d(o.onInput(u))})("keydown.enter",function(){return f(l),d(o.onSelect())}),p()(),a(2,"nz-autocomplete",null,0),m(4,be,2,4,"nz-auto-option",4),C(5,Ve,2,2,"nz-auto-option",5,z),p(),m(7,ke,1,0,"ng-template",null,1,$)}if(i&2){let l=V(3),h=V(8);r("nzSuffix",h),n(),q("ngModel",o.inputValue),r("nzAutocomplete",l),n(3),r("ngIf",o.searchingProfile),n(),S(o.options)}},dependencies:[I,T,ee,X,Y,Z,Q,K,se,re,pe,ae,ue,le,ce,me,Pe,Se],styles:[".input-search[_ngcontent-%COMP%]{width:250px}"]})}}return e})();var Ae=e=>["/tags",e],Ee=e=>({tab:e});function Oe(e,s){e&1&&(a(0,"div"),g(1,"app-search-profile")(2,"br")(3,"br"),p())}function De(e,s){if(e&1&&(a(0,"nz-tag",4)(1,"a",5),P(2),p()()),e&2){let t=s.$implicit;n(),r("routerLink",k(3,Ae,t))("queryParams",k(5,Ee,t)),n(),v(t)}}function Fe(e,s){if(e&1&&(L(0),a(1,"div",2),m(2,Oe,4,0,"div",1),a(3,"nz-card",3),C(4,De,3,7,"nz-tag",4,z),p()(),j()),e&2){let t=s.ngIf;n(2),r("ngIf",t.currentUser),n(2),S(t.popularTags)}}var ft=(()=>{class e{constructor(t,i){this.store=t,this.router=i,this.data$=E({popularTags:this.store.select(_e),isLoading:this.store.select(ge),error:this.store.select(he),currentUser:this.store.select(fe)})}ngOnInit(){this.store.dispatch(de.getPopularTags())}doSomething(t){this.router.navigate(["/tags",t],{queryParams:{tab:t}})}static{this.\u0275fac=function(i){return new(i||e)(c(te),c(x))}}static{this.\u0275cmp=_({type:e,selectors:[["app-popular-tags"]],standalone:!0,features:[y],decls:3,vars:4,consts:[[3,"nzOffsetTop"],[4,"ngIf"],[1,"container-popular-tags","hide-on-mobile"],["nzTitle","Popular Tags"],["nzColor","#818a91",1,"mt-5"],[3,"routerLink","queryParams"]],template:function(i,o){i&1&&(a(0,"nz-affix",0),m(1,Fe,6,1,"ng-container",1),W(2,"async"),p()),i&2&&(r("nzOffsetTop",70),n(),r("ngIf",G(2,2,o.data$)))},dependencies:[I,T,H,J,Ce,ze,ye,ve,ne,oe,ie,Ie],styles:[".container-popular-tags[_ngcontent-%COMP%]{padding-top:2.75rem}.tag-bg-color-default[_ngcontent-%COMP%]{background-color:#818a91}.mt-5[_ngcontent-%COMP%]{margin-top:5px}@media (max-width: 575.98px){.hide-on-mobile[_ngcontent-%COMP%]{display:none!important}}"]})}}return e})();export{ft as a};
